2025-03-17 12:18:40,625 - __main__ - INFO - === Starting intent merger training ===
2025-03-17 12:18:40,625 - __main__ - INFO - Parsing command line arguments...
2025-03-17 12:18:40,628 - __main__ - INFO - Arguments: Namespace(config='config.json', generate_only=False, enrich=False, augment=True, output='training/generated_training_data.json', model_output='models/intent_classifier_merged', early_stopping=True, epochs=40, batch_size=32, vocab_size=10000, embedding_dim=150, max_sequence_length=50, patience=8, validation_split=0.2, min_per_class=50, max_per_class=800, merge_classes=True, augmentation_factor=0.3, use_existing_data=True, debug=False)
2025-03-17 12:18:40,628 - __main__ - INFO - Preparing training data...
2025-03-17 12:18:40,637 - __main__ - INFO - Loading existing training data from training/generated_training_data.json
2025-03-17 12:18:40,639 - __main__ - INFO - Loaded 6679 examples from existing file
2025-03-17 12:18:40,639 - __main__ - INFO - Proceeding to model training...
2025-03-17 12:18:40,642 - __main__ - INFO - Starting model training process...
2025-03-17 12:18:40,647 - __main__ - INFO - Merged 16 intent classes into 12 classes
2025-03-17 12:18:40,647 - __main__ - INFO - Original classes: ['database_query_comparative_highest', 'database_query_comparative_lowest', 'database_query_comparative_middle', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_sort_ascending', 'database_query_sort_descending', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-17 12:18:40,647 - __main__ - INFO - Merged classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-17 12:18:40,650 - __main__ - INFO - Merged class counts: {'database_query_list': 360, 'database_query_detailed': 160, 'database_query_count': 321, 'database_query_sort': 2147, 'database_query_comparative': 1890, 'database_query_recent': 109, 'database_query_specific_id': 121, 'database_query_filter': 1524, 'database_query_sensitive': 7, 'greeting': 13, 'help': 13, 'goodbye': 14}
2025-03-17 12:18:40,651 - __main__ - INFO - Class database_query_sensitive: Duplicated from 7 to 56 examples
2025-03-17 12:18:40,651 - __main__ - INFO - Class greeting: Duplicated from 13 to 52 examples
2025-03-17 12:18:40,651 - __main__ - INFO - Class help: Duplicated from 13 to 52 examples
2025-03-17 12:18:40,651 - __main__ - INFO - Class goodbye: Duplicated from 14 to 56 examples
2025-03-17 12:18:40,653 - __main__ - INFO - After balancing: 5287 total examples
2025-03-17 12:18:40,653 - __main__ - INFO - Final class distribution: {'database_query_comparative': 1600, 'database_query_filter': 800, 'database_query_list': 360, 'database_query_count': 321, 'database_query_sort': 1600, 'help': 52, 'database_query_specific_id': 121, 'goodbye': 56, 'database_query_recent': 109, 'database_query_detailed': 160, 'database_query_sensitive': 56, 'greeting': 52}
2025-03-17 12:18:40,657 - __main__ - INFO - Original class distribution: {'database_query_comparative': 1600, 'database_query_filter': 800, 'database_query_list': 360, 'database_query_count': 321, 'database_query_sort': 1600, 'help': 52, 'database_query_specific_id': 121, 'goodbye': 56, 'database_query_recent': 109, 'database_query_detailed': 160, 'database_query_sensitive': 56, 'greeting': 52}
2025-03-17 12:18:40,659 - __main__ - INFO - Applying enhanced augmentation for database_query_comparative with 1600 examples
2025-03-17 12:18:40,676 - __main__ - INFO - Applying enhanced augmentation for database_query_sort with 1600 examples
2025-03-17 12:18:40,724 - __main__ - INFO - Created 4887 additional examples for database_query_comparative
2025-03-17 12:18:40,735 - __main__ - INFO - Created 3459 additional examples for database_query_sort
2025-03-17 12:18:40,737 - __main__ - INFO - After augmentation: 21340 examples
2025-03-17 12:18:40,737 - __main__ - INFO - Final class distribution: {'database_query_comparative': 10273, 'database_query_filter': 893, 'database_query_list': 454, 'database_query_count': 338, 'database_query_sort': 8899, 'help': 13, 'database_query_specific_id': 121, 'goodbye': 14, 'database_query_recent': 132, 'database_query_detailed': 179, 'database_query_sensitive': 11, 'greeting': 13}
2025-03-17 12:18:40,737 - __main__ - INFO - Tokenizing and preparing sequences...
2025-03-17 12:18:41,053 - __main__ - INFO - Training with 12 intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-17 12:18:41,053 - __main__ - INFO - Will save model to models/intent_classifier_merged
2025-03-17 12:18:42,153 - __main__ - INFO - Model architecture:
2025-03-17 12:18:42,153 - __main__ - INFO - Model: "model"
2025-03-17 12:18:42,154 - __main__ - INFO - __________________________________________________________________________________________________
2025-03-17 12:18:42,154 - __main__ - INFO -  Layer (type)                   Output Shape         Param #     Connected to                     
2025-03-17 12:18:42,154 - __main__ - INFO - ==================================================================================================
2025-03-17 12:18:42,154 - __main__ - INFO -  input_1 (InputLayer)           [(None, 50)]         0           []                               
2025-03-17 12:18:42,154 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,154 - __main__ - INFO -  embedding (Embedding)          (None, 50, 150)      1500000     ['input_1[0][0]']                
2025-03-17 12:18:42,154 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,154 - __main__ - INFO -  conv1d (Conv1D)                (None, 50, 128)      57728       ['embedding[0][0]']              
2025-03-17 12:18:42,154 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,154 - __main__ - INFO -  conv1d_1 (Conv1D)              (None, 50, 128)      76928       ['embedding[0][0]']              
2025-03-17 12:18:42,154 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,154 - __main__ - INFO -  conv1d_2 (Conv1D)              (None, 50, 128)      96128       ['embedding[0][0]']              
2025-03-17 12:18:42,154 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,154 - __main__ - INFO -  global_max_pooling1d (GlobalMa  (None, 128)         0           ['conv1d[0][0]']                 
2025-03-17 12:18:42,154 - __main__ - INFO -  xPooling1D)                                                                                      
2025-03-17 12:18:42,158 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,158 - __main__ - INFO -  global_max_pooling1d_1 (Global  (None, 128)         0           ['conv1d_1[0][0]']               
2025-03-17 12:18:42,158 - __main__ - INFO -  MaxPooling1D)                                                                                    
2025-03-17 12:18:42,158 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,158 - __main__ - INFO -  global_max_pooling1d_2 (Global  (None, 128)         0           ['conv1d_2[0][0]']               
2025-03-17 12:18:42,158 - __main__ - INFO -  MaxPooling1D)                                                                                    
2025-03-17 12:18:42,158 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,158 - __main__ - INFO -  concatenate (Concatenate)      (None, 384)          0           ['global_max_pooling1d[0][0]',   
2025-03-17 12:18:42,158 - __main__ - INFO -                                                                   'global_max_pooling1d_1[0][0]', 
2025-03-17 12:18:42,158 - __main__ - INFO -                                                                   'global_max_pooling1d_2[0][0]'] 
2025-03-17 12:18:42,158 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,158 - __main__ - INFO -  dropout (Dropout)              (None, 384)          0           ['concatenate[0][0]']            
2025-03-17 12:18:42,158 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,158 - __main__ - INFO -  dense (Dense)                  (None, 256)          98560       ['dropout[0][0]']                
2025-03-17 12:18:42,158 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,158 - __main__ - INFO -  dropout_1 (Dropout)            (None, 256)          0           ['dense[0][0]']                  
2025-03-17 12:18:42,158 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,158 - __main__ - INFO -  dense_1 (Dense)                (None, 12)           3084        ['dropout_1[0][0]']              
2025-03-17 12:18:42,158 - __main__ - INFO -                                                                                                   
2025-03-17 12:18:42,158 - __main__ - INFO - ==================================================================================================
2025-03-17 12:18:42,161 - __main__ - INFO - Total params: 1,832,428
2025-03-17 12:18:42,161 - __main__ - INFO - Trainable params: 1,832,428
2025-03-17 12:18:42,161 - __main__ - INFO - Non-trainable params: 0
2025-03-17 12:18:42,161 - __main__ - INFO - __________________________________________________________________________________________________
2025-03-17 12:18:42,161 - __main__ - INFO - Added early stopping with patience=8
2025-03-17 12:18:42,161 - __main__ - INFO - Starting training with 40 epochs...
2025-03-17 12:20:12,357 - __main__ - INFO - Validation accuracy progression: [0.7999062538146973, 0.8008434772491455, 0.8214620351791382, 0.845829427242279, 0.8006091713905334, 0.8385660648345947, 0.8327085375785828, 0.8608247637748718, 0.8648078441619873, 0.8683223724365234, 0.8720712065696716, 0.8680881261825562, 0.8659793734550476, 0.8608247637748718, 0.8603561520576477, 0.8608247637748718, 0.8601218461990356, 0.8631677627563477, 0.8605904579162598]
2025-03-17 12:20:12,357 - __main__ - INFO - Best validation accuracy: 0.8720712065696716
2025-03-17 12:20:12,357 - __main__ - INFO - Training complete. Saving model to models/intent_classifier_merged
2025-03-17 12:20:12,416 - model.intent_classifier - INFO - Model saved to models/intent_classifier_merged\model.h5
2025-03-17 12:20:12,424 - model.intent_classifier - INFO - Tokenizer saved to models/intent_classifier_merged\tokenizer.json
2025-03-17 12:20:12,425 - model.intent_classifier - INFO - Intent classes saved to models/intent_classifier_merged\intent_classes.json
2025-03-17 12:20:12,427 - model.intent_classifier - INFO - Model configuration saved to models/intent_classifier_merged\model_config.json
2025-03-17 12:20:12,427 - __main__ - INFO - Model saved successfully
2025-03-17 12:20:12,472 - __main__ - INFO - Additional model file saved to models/intent_classifier_merged\model.h5
2025-03-17 12:20:12,472 - __main__ - INFO - Intent mappings saved to models/intent_classifier_merged\intent_mappings.json
2025-03-17 12:20:12,472 - __main__ - INFO - Model training completed successfully
2025-03-17 12:20:12,472 - __main__ - INFO - === Training completed successfully ===
2025-03-17 15:06:43,699 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 15:06:43,699 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 15:06:43,699 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 15:06:43,699 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 15:06:43,699 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 15:06:43,702 - __main__ - INFO - All components initialized successfully
2025-03-17 15:06:45,769 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 15:06:45,769 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 15:06:45,772 - __main__ - INFO - Training API routes added successfully
2025-03-17 15:06:45,772 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 15:06:45,798 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.162:5000
2025-03-17 15:06:45,798 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-17 15:06:45,801 - werkzeug - INFO -  * Restarting with stat
2025-03-17 15:06:52,453 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 15:06:52,454 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 15:06:52,454 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 15:06:52,454 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 15:06:52,454 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 15:06:52,458 - __main__ - INFO - All components initialized successfully
2025-03-17 15:06:54,496 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 15:06:54,496 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 15:06:54,496 - __main__ - INFO - Training API routes added successfully
2025-03-17 15:06:54,496 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 15:06:54,510 - werkzeug - WARNING -  * Debugger is active!
2025-03-17 15:06:54,518 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-17 15:06:54,555 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:06:54] "GET / HTTP/1.1" 200 -
2025-03-17 15:06:54,746 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:06:54] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-17 15:06:54,761 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:06:54] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-17 15:06:54,761 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:06:54] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-17 15:07:00,095 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 15:07:00,095 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_list', 'confidence': 0.5}
2025-03-17 15:07:00,095 - query_processor - INFO - Direct query processing for: Show me all details about markets
2025-03-17 15:07:00,097 - query_processor - INFO - Generated SQL from natural language: SELECT markets.name, markets.location FROM markets LIMIT 100
2025-03-17 15:07:00,100 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:07:00] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 15:07:16,438 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 15:07:16,438 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_list', 'confidence': 0.5}
2025-03-17 15:07:16,438 - query_processor - INFO - Direct query processing for: show me all Traders
2025-03-17 15:07:16,438 - query_processor - INFO - Generated SQL from natural language: SELECT traders.name, traders.registration_date FROM traders LIMIT 100
2025-03-17 15:07:16,443 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:07:16] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 15:08:07,908 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 15:08:07,910 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_list', 'confidence': 0.5}
2025-03-17 15:08:07,910 - query_processor - INFO - Direct query processing for: Find traders with lowest transaction count
2025-03-17 15:08:07,910 - query_processor - INFO - Generated SQL from natural language: SELECT traders.name, traders.registration_date FROM traders, transactions LIMIT 100
2025-03-17 15:08:07,916 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:08:07] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 15:44:23,304 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 15:44:23,305 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 15:44:23,305 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 15:44:23,305 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 15:44:23,305 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 15:44:23,309 - __main__ - INFO - All components initialized successfully
2025-03-17 15:44:25,367 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 15:44:25,367 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 15:44:25,370 - __main__ - INFO - Training API routes added successfully
2025-03-17 15:44:25,370 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 15:44:25,389 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-17 15:44:25,389 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-17 15:44:25,391 - werkzeug - INFO -  * Restarting with stat
2025-03-17 15:44:31,717 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 15:44:31,718 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 15:44:31,718 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 15:44:31,718 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 15:44:31,718 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 15:44:31,721 - __main__ - INFO - All components initialized successfully
2025-03-17 15:44:33,786 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 15:44:33,786 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 15:44:33,788 - __main__ - INFO - Training API routes added successfully
2025-03-17 15:44:33,789 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 15:44:33,800 - werkzeug - WARNING -  * Debugger is active!
2025-03-17 15:44:33,806 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-17 15:44:33,840 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:44:33] "GET / HTTP/1.1" 200 -
2025-03-17 15:44:33,960 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:44:33] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-17 15:44:34,030 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:44:34] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-17 15:44:34,033 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:44:34] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-17 15:44:42,508 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 15:44:42,508 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_list', 'confidence': 0.5}
2025-03-17 15:44:42,508 - query_processor - INFO - Direct query processing for: List assets sorted by price in descending order
2025-03-17 15:44:42,508 - query_processor - INFO - Generated SQL from natural language: SELECT price_history.price_date, price_history.close_price, assets.name FROM orders, price_history, assets WHERE price_history.asset_id = assets.asset_id LIMIT 100
2025-03-17 15:44:42,516 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:44:42] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 15:47:11,007 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 15:47:11,007 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_list', 'confidence': 0.5}
2025-03-17 15:47:11,007 - query_processor - INFO - Direct query processing for: Find traders with lowest transaction count
2025-03-17 15:47:11,007 - query_processor - INFO - Generated SQL from natural language: SELECT traders.name, traders.registration_date FROM transactions, traders LIMIT 100
2025-03-17 15:47:11,013 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:47:11] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 15:47:47,494 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 15:47:47,494 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_list', 'confidence': 0.5}
2025-03-17 15:47:47,496 - query_processor - INFO - Direct query processing for: Sort trades by date in ascending order
2025-03-17 15:47:47,496 - query_processor - INFO - Generated SQL from natural language: SELECT orders.order_date, trades.trade_date FROM orders, trades WHERE orders.trade_id = trades.trade_id LIMIT 100
2025-03-17 15:47:47,498 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:47:47] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 15:48:22,966 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 15:48:22,966 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_list', 'confidence': 0.5}
2025-03-17 15:48:22,967 - query_processor - INFO - Direct query processing for: Display the assets with median price
2025-03-17 15:48:22,967 - query_processor - INFO - Generated SQL from natural language: SELECT price_history.price_date, price_history.close_price, assets.name FROM price_history, assets WHERE price_history.asset_id = assets.asset_id LIMIT 100
2025-03-17 15:48:22,970 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 15:48:22] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:16:42,137 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 16:16:42,137 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 16:16:42,139 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 16:16:42,139 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 16:16:42,139 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 16:16:42,142 - __main__ - INFO - All components initialized successfully
2025-03-17 16:16:44,211 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 16:16:44,211 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 16:16:44,213 - __main__ - INFO - Training API routes added successfully
2025-03-17 16:16:44,213 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 16:16:44,225 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-17 16:16:44,225 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-17 16:16:44,227 - werkzeug - INFO -  * Restarting with stat
2025-03-17 16:16:48,675 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 16:16:48,675 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 16:16:48,677 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 16:16:48,677 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 16:16:48,677 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 16:16:48,680 - __main__ - INFO - All components initialized successfully
2025-03-17 16:16:50,731 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 16:16:50,731 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 16:16:50,733 - __main__ - INFO - Training API routes added successfully
2025-03-17 16:16:50,733 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 16:16:50,742 - werkzeug - WARNING -  * Debugger is active!
2025-03-17 16:16:50,746 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-17 16:16:50,772 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:16:50] "GET / HTTP/1.1" 200 -
2025-03-17 16:16:50,854 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:16:50] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-17 16:16:50,877 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:16:50] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-17 16:16:50,879 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:16:50] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-17 16:18:57,764 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 16:18:57,764 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-17 16:18:57,764 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-17 16:18:57,764 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_sort', 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:18:57,764 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:18:57,764 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:18:57,764 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-17 16:18:57,764 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_descending, confidence: 0.9
2025-03-17 16:18:57,765 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-17 16:18:57,765 - model.chatbot_engine - ERROR - Error processing user input: 'QueryProcessor' object has no attribute '_handle_list_query'
2025-03-17 16:18:57,766 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:18:57] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:32:29,494 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 16:32:29,494 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 16:32:29,496 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 16:32:29,496 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 16:32:29,496 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 16:32:29,500 - __main__ - INFO - All components initialized successfully
2025-03-17 16:32:31,555 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 16:32:31,556 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 16:32:31,557 - __main__ - INFO - Training API routes added successfully
2025-03-17 16:32:31,557 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 16:32:31,568 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-17 16:32:31,569 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-17 16:32:31,571 - werkzeug - INFO -  * Restarting with stat
2025-03-17 16:32:36,079 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 16:32:36,080 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 16:32:36,082 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 16:32:36,082 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 16:32:36,082 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 16:32:36,084 - __main__ - INFO - All components initialized successfully
2025-03-17 16:32:38,140 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 16:32:38,141 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 16:32:38,142 - __main__ - INFO - Training API routes added successfully
2025-03-17 16:32:38,142 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 16:32:38,151 - werkzeug - WARNING -  * Debugger is active!
2025-03-17 16:32:38,155 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-17 16:32:38,179 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:32:38] "GET / HTTP/1.1" 200 -
2025-03-17 16:32:38,279 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:32:38] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-17 16:32:38,282 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:32:38] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-17 16:32:38,284 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:32:38] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-17 16:32:43,796 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 16:32:43,796 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-17 16:32:43,797 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-17 16:32:43,797 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_sort', 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:32:43,797 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:32:43,797 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:32:43,797 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-17 16:32:43,799 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-17 16:32:43,799 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_descending, confidence: 0.9
2025-03-17 16:32:43,799 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-17 16:32:43,799 - model.chatbot_engine - ERROR - Error processing user input: 'QueryProcessor' object has no attribute '_handle_list_query'
2025-03-17 16:32:43,799 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:32:43] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:41:04,119 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 16:41:04,120 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 16:41:04,121 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 16:41:04,121 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 16:41:04,121 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 16:41:04,125 - __main__ - INFO - All components initialized successfully
2025-03-17 16:41:06,179 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 16:41:06,179 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 16:41:06,181 - __main__ - INFO - Training API routes added successfully
2025-03-17 16:41:06,181 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 16:41:06,199 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-17 16:41:06,199 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-17 16:41:06,201 - werkzeug - INFO -  * Restarting with stat
2025-03-17 16:41:10,640 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 16:41:10,640 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 16:41:10,642 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 16:41:10,642 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 16:41:10,642 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 16:41:10,644 - __main__ - INFO - All components initialized successfully
2025-03-17 16:41:12,686 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 16:41:12,687 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 16:41:12,688 - __main__ - INFO - Training API routes added successfully
2025-03-17 16:41:12,689 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 16:41:12,696 - werkzeug - WARNING -  * Debugger is active!
2025-03-17 16:41:12,700 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-17 16:41:12,725 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:41:12] "GET / HTTP/1.1" 200 -
2025-03-17 16:41:12,808 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:41:12] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-17 16:41:12,825 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:41:12] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-17 16:41:12,830 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:41:12] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-17 16:41:17,054 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 16:41:17,055 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-17 16:41:17,062 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b', '\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(lowest|minimum|least|bottom|smallest|cheapest|worst)', '\\b(median|middle|average|mid|center|mean)', '\\b(show|display|list|get|find|retrieve)\\b.*\\b(all|every)\\b', '\\b(all details|more details|detailed|complete|all information|everything about|all data|show all|all fields|full record)', '\\b(recent|latest|newest|current|fresh|just added|new)', '\\b(where|with|having|that have|filter)\\b', '\\b(encrypted|sensitive|private|personal|email|contact|license|phone)']
2025-03-17 16:41:17,063 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_sort', 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:41:17,063 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:41:17,063 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:41:17,063 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-17 16:41:17,065 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'markets', 'attribute': 'transaction_count', 'aggregation': 'count', 'operation': 'max', 'constraints': [('original', 'logic')]}
2025-03-17 16:41:17,065 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_descending, confidence: 0.9
2025-03-17 16:41:17,066 - query_processor - INFO - Query semantics: {'entity_type': 'markets', 'attribute': 'transaction_count', 'aggregation': 'count', 'operation': 'max', 'constraints': [('original', 'logic')]}
2025-03-17 16:41:17,066 - query_processor - INFO - Generated SQL query: SELECT markets.name, markets.location, COUNT(transactions.transaction_id) as transaction_count FROM markets WHERE markets.market_id = trades.market_id AND traders.trader_id = trades.trader_id AND traders.trader_id = accounts.trader_id AND accounts.account_id = transactions.account_id GROUP BY markets.market_id ORDER BY transaction_count DESC LIMIT 10
2025-03-17 16:41:17,067 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'transactions.transaction_id' in 'field list'
2025-03-17 16:41:17,068 - query_processor - INFO - No results returned from database
2025-03-17 16:41:17,068 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:41:17] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:41:24,548 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 16:41:24,549 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-17 16:41:24,549 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-17 16:41:24,549 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_sort', 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:41:24,549 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:41:24,549 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:41:24,549 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-17 16:41:24,549 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-17 16:41:24,549 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_descending, confidence: 0.9
2025-03-17 16:41:24,551 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-17 16:41:24,551 - query_processor - INFO - Generated SQL query: SELECT assets.name, assets.asset_type, trades.price FROM assets WHERE assets.asset_id = trades.asset_id AND assets.asset_id = price_history.asset_id ORDER BY trades.price DESC LIMIT 10
2025-03-17 16:41:24,551 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'trades.price' in 'field list'
2025-03-17 16:41:24,551 - query_processor - INFO - No results returned from database
2025-03-17 16:41:24,552 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:41:24] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:41:46,938 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 16:41:46,938 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-17 16:41:46,938 - quick_intent_merger - INFO - Pattern matches: ['\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(where|with|having|that have|filter)\\b']
2025-03-17 16:41:46,938 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_highest'}
2025-03-17 16:41:46,938 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_highest'}
2025-03-17 16:41:46,938 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_highest'}
2025-03-17 16:41:46,938 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_highest, Parent intent: database_query_comparative
2025-03-17 16:41:46,939 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'trade_count', 'aggregation': 'count', 'operation': 'max', 'constraints': [('highest', 'account')]}
2025-03-17 16:41:46,939 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_highest, confidence: 0.9
2025-03-17 16:41:46,939 - query_processor - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'trade_count', 'aggregation': 'count', 'operation': 'max', 'constraints': [('highest', 'account')]}
2025-03-17 16:41:46,939 - query_processor - INFO - Generated SQL query: SELECT traders.name, traders.registration_date, COUNT(trades.trade_id) as trade_count FROM traders WHERE traders.trader_id = trades.trader_id GROUP BY traders.trader_id ORDER BY trade_count DESC LIMIT 10
2025-03-17 16:41:46,940 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'trades.trade_id' in 'field list'
2025-03-17 16:41:46,940 - query_processor - INFO - No results returned from database
2025-03-17 16:41:46,941 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:41:46] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:44:31,002 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 16:44:31,003 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 16:44:31,004 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 16:44:31,005 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 16:44:31,005 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 16:44:31,007 - __main__ - INFO - All components initialized successfully
2025-03-17 16:44:33,053 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 16:44:33,054 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 16:44:33,055 - __main__ - INFO - Training API routes added successfully
2025-03-17 16:44:33,056 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 16:44:33,067 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-17 16:44:33,067 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-17 16:44:33,068 - werkzeug - INFO -  * Restarting with stat
2025-03-17 16:44:37,482 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 16:44:37,482 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-17 16:44:37,485 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 16:44:37,485 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 16:44:37,485 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 16:44:37,487 - __main__ - INFO - All components initialized successfully
2025-03-17 16:44:39,552 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 16:44:39,552 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 16:44:39,554 - __main__ - INFO - Training API routes added successfully
2025-03-17 16:44:39,554 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 16:44:39,562 - werkzeug - WARNING -  * Debugger is active!
2025-03-17 16:44:39,566 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-17 16:44:39,591 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:44:39] "GET / HTTP/1.1" 200 -
2025-03-17 16:44:39,677 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:44:39] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-17 16:44:39,702 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:44:39] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-17 16:44:39,705 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:44:39] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-17 16:44:44,769 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 16:44:44,769 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-17 16:44:44,770 - quick_intent_merger - INFO - Pattern matches: ['\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(where|with|having|that have|filter)\\b']
2025-03-17 16:44:44,770 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_highest'}
2025-03-17 16:44:44,770 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_highest'}
2025-03-17 16:44:44,770 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_highest'}
2025-03-17 16:44:44,770 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_highest, Parent intent: database_query_comparative
2025-03-17 16:44:44,771 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'trade_count', 'aggregation': 'count', 'operation': 'max', 'constraints': [('highest', 'account')]}
2025-03-17 16:44:44,771 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_highest, confidence: 0.9
2025-03-17 16:44:44,772 - query_processor - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'trade_count', 'aggregation': 'count', 'operation': 'max', 'constraints': [('highest', 'account')]}
2025-03-17 16:44:44,772 - query_processor - INFO - Generated SQL query: SELECT traders.name, traders.registration_date, COUNT(trades.trade_id) as trade_count FROM traders JOIN trades ON traders.trader_id = trades.trader_id WHERE traders.trader_id = trades.trader_id GROUP BY traders.trader_id ORDER BY trade_count DESC LIMIT 10
2025-03-17 16:44:44,775 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:44:44] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:44:59,373 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 16:44:59,374 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-17 16:44:59,374 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-17 16:44:59,374 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_sort', 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:44:59,374 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:44:59,374 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-17 16:44:59,374 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-17 16:44:59,375 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-17 16:44:59,375 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_descending, confidence: 0.9
2025-03-17 16:44:59,375 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-17 16:44:59,376 - query_processor - INFO - Generated SQL query: SELECT assets.name, assets.asset_type, trades.price FROM assets JOIN trades ON assets.asset_id = trades.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id WHERE assets.asset_id = trades.asset_id AND assets.asset_id = price_history.asset_id ORDER BY trades.price DESC LIMIT 10
2025-03-17 16:44:59,388 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:44:59] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:45:10,337 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 16:45:10,337 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-17 16:45:10,337 - quick_intent_merger - INFO - Pattern matches: ['\\b(lowest|minimum|least|bottom|smallest|cheapest|worst)', '\\b(count|how many|number of|total number)', '\\b(where|with|having|that have|filter)\\b']
2025-03-17 16:45:10,337 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_lowest'}
2025-03-17 16:45:10,337 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-17 16:45:10,337 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-17 16:45:10,337 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_lowest, Parent intent: database_query_comparative
2025-03-17 16:45:10,337 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'transaction_count', 'aggregation': 'count', 'operation': 'min', 'constraints': [('lowest', 'transaction')]}
2025-03-17 16:45:10,338 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_lowest, confidence: 0.9
2025-03-17 16:45:10,338 - query_processor - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'transaction_count', 'aggregation': 'count', 'operation': 'min', 'constraints': [('lowest', 'transaction')]}
2025-03-17 16:45:10,338 - query_processor - INFO - Generated SQL query: SELECT traders.name, traders.registration_date, COUNT(transactions.transaction_id) as transaction_count FROM traders JOIN transactions ON traders.trader_id = accounts.trader_id AND accounts.account_id = transactions.account_id WHERE traders.trader_id = accounts.trader_id AND accounts.account_id = transactions.account_id GROUP BY traders.trader_id ORDER BY transaction_count ASC LIMIT 10
2025-03-17 16:45:10,339 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'accounts.trader_id' in 'where clause'
2025-03-17 16:45:10,339 - query_processor - INFO - No results returned from database
2025-03-17 16:45:10,340 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:45:10] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:45:19,927 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 16:45:19,927 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-17 16:45:19,927 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-17 16:45:19,927 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_sort', 'sub_intent': 'database_query_sort_ascending'}
2025-03-17 16:45:19,928 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_ascending'}
2025-03-17 16:45:19,928 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_ascending'}
2025-03-17 16:45:19,928 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_ascending, Parent intent: database_query_sort
2025-03-17 16:45:19,929 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'trades', 'attribute': 'date', 'aggregation': None, 'operation': 'sort_asc', 'constraints': []}
2025-03-17 16:45:19,929 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_ascending, confidence: 0.9
2025-03-17 16:45:19,929 - query_processor - INFO - Query semantics: {'entity_type': 'trades', 'attribute': 'date', 'aggregation': None, 'operation': 'sort_asc', 'constraints': []}
2025-03-17 16:45:19,931 - query_processor - INFO - Generated SQL query: SELECT trades.trade_date, trades.quantity, trades.trade_date FROM trades JOIN orders ON trades.trade_id = orders.trade_id JOIN traders ON trades.trader_id = traders.trader_id JOIN traders ON trades.trader_id = traders.trader_id JOIN accounts ON traders.trader_id = accounts.trader_id JOIN accounts ON None JOIN transactions ON accounts.account_id = transactions.account_id JOIN assets ON trades.asset_id = assets.asset_id JOIN assets ON trades.asset_id = assets.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id WHERE orders.trade_id = trades.trade_id AND traders.trader_id = trades.trader_id AND traders.trader_id = accounts.trader_id AND accounts.account_id = transactions.account_id AND assets.asset_id = trades.asset_id AND assets.asset_id = price_history.asset_id ORDER BY trades.trade_date ASC LIMIT 10
2025-03-17 16:45:19,932 - database_connector - ERROR - Error executing query: 1066 (42000): Not unique table/alias: 'traders'
2025-03-17 16:45:19,932 - query_processor - INFO - No results returned from database
2025-03-17 16:45:19,932 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:45:19] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:45:26,640 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-17 16:45:26,641 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-17 16:45:26,641 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-17 16:45:26,641 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_middle'}
2025-03-17 16:45:26,641 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_middle'}
2025-03-17 16:45:26,641 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_middle'}
2025-03-17 16:45:26,641 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-17 16:45:26,641 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'avg', 'constraints': [('median', 'price')]}
2025-03-17 16:45:26,641 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_middle, confidence: 0.9
2025-03-17 16:45:26,641 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'avg', 'constraints': [('median', 'price')]}
2025-03-17 16:45:26,641 - query_processor - INFO - Generated SQL query: SELECT assets.name, assets.asset_type, trades.price FROM assets JOIN trades ON assets.asset_id = trades.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id WHERE assets.asset_id = trades.asset_id AND assets.asset_id = price_history.asset_id LIMIT 10 OFFSET (SELECT COUNT(*)/2 - 5 FROM assets)
2025-03-17 16:45:26,642 - database_connector - ERROR - Error executing query: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(SELECT COUNT(*)/2 - 5 FROM assets)' at line 1
2025-03-17 16:45:26,642 - query_processor - INFO - No results returned from database
2025-03-17 16:45:26,643 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:45:26] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:50:32,353 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 16:50:32,354 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-17 16:50:32,354 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-17 16:50:32,355 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-17 16:50:32,355 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-17 16:50:32,355 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-17 16:50:32,355 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-17 16:50:32,356 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-17 16:50:35,083 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-17 16:50:35,085 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-17 16:50:35,086 - intent_processor - INFO - Loaded original intent examples
2025-03-17 16:50:35,086 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-17 16:50:35,086 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-17 16:50:35,088 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 16:50:35,088 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 16:50:35,088 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 16:50:35,090 - __main__ - INFO - All components initialized successfully
2025-03-17 16:50:37,143 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 16:50:37,143 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 16:50:37,145 - __main__ - INFO - Training API routes added successfully
2025-03-17 16:50:37,145 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 16:50:37,158 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-17 16:50:37,159 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-17 16:50:37,161 - werkzeug - INFO -  * Restarting with stat
2025-03-17 16:50:41,599 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-17 16:50:41,599 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-17 16:50:41,599 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-17 16:50:41,599 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-17 16:50:41,600 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-17 16:50:41,600 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-17 16:50:41,600 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-17 16:50:41,601 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-17 16:50:45,779 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-17 16:50:45,781 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-17 16:50:45,783 - intent_processor - INFO - Loaded original intent examples
2025-03-17 16:50:45,783 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-17 16:50:45,783 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-17 16:50:45,787 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-17 16:50:45,787 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-17 16:50:45,787 - __main__ - INFO - Speech recognition initialized successfully
2025-03-17 16:50:45,792 - __main__ - INFO - All components initialized successfully
2025-03-17 16:50:47,840 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-17 16:50:47,840 - __main__ - INFO - Initializing speech recognition routes
2025-03-17 16:50:47,844 - __main__ - INFO - Training API routes added successfully
2025-03-17 16:50:47,844 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-17 16:50:47,856 - werkzeug - WARNING -  * Debugger is active!
2025-03-17 16:50:47,864 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-17 16:50:47,903 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:50:47] "GET / HTTP/1.1" 200 -
2025-03-17 16:50:48,090 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:50:48] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-17 16:50:48,097 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:50:48] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-17 16:50:48,099 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:50:48] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-17 16:50:59,477 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 0.7462316155433655
2025-03-17 16:50:59,478 - quick_intent_merger - INFO - Pattern matches: ['\\b(lowest|minimum|least|bottom|smallest|cheapest|worst)', '\\b(count|how many|number of|total number)', '\\b(where|with|having|that have|filter)\\b']
2025-03-17 16:50:59,478 - quick_intent_merger - INFO - Low ML confidence (0.7462316155433655). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_lowest'}
2025-03-17 16:50:59,478 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-17 16:50:59,478 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-17 16:50:59,478 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_lowest, Parent intent: database_query_comparative
2025-03-17 16:50:59,479 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'transaction_count', 'aggregation': 'count', 'operation': 'min', 'constraints': [('lowest', 'transaction')]}
2025-03-17 16:50:59,479 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_lowest, confidence: 0.9
2025-03-17 16:50:59,480 - query_processor - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'transaction_count', 'aggregation': 'count', 'operation': 'min', 'constraints': [('lowest', 'transaction')]}
2025-03-17 16:50:59,480 - query_processor - INFO - Generated SQL query: SELECT traders.name, traders.registration_date, COUNT(transactions.transaction_id) as transaction_count FROM traders JOIN transactions ON traders.trader_id = accounts.trader_id AND accounts.account_id = transactions.account_id WHERE traders.trader_id = accounts.trader_id AND accounts.account_id = transactions.account_id GROUP BY traders.trader_id ORDER BY transaction_count ASC LIMIT 10
2025-03-17 16:50:59,481 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'accounts.trader_id' in 'where clause'
2025-03-17 16:50:59,481 - query_processor - INFO - No results returned from database
2025-03-17 16:50:59,482 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:50:59] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:51:13,699 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-17 16:51:13,699 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-17 16:51:13,699 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-17 16:51:13,699 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-17 16:51:13,699 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_ascending, Parent intent: database_query_sort
2025-03-17 16:51:13,700 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'trades', 'attribute': 'date', 'aggregation': None, 'operation': 'sort_asc', 'constraints': []}
2025-03-17 16:51:13,700 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_ascending, confidence: 1.0
2025-03-17 16:51:13,700 - query_processor - INFO - Query semantics: {'entity_type': 'trades', 'attribute': 'date', 'aggregation': None, 'operation': 'sort_asc', 'constraints': []}
2025-03-17 16:51:13,701 - query_processor - INFO - Generated SQL query: SELECT trades.trade_date, trades.quantity, trades.trade_date FROM trades JOIN orders ON trades.trade_id = orders.trade_id JOIN traders ON trades.trader_id = traders.trader_id JOIN traders ON trades.trader_id = traders.trader_id JOIN accounts ON traders.trader_id = accounts.trader_id JOIN accounts ON None JOIN transactions ON accounts.account_id = transactions.account_id JOIN assets ON trades.asset_id = assets.asset_id JOIN assets ON trades.asset_id = assets.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id WHERE orders.trade_id = trades.trade_id AND traders.trader_id = trades.trader_id AND traders.trader_id = accounts.trader_id AND accounts.account_id = transactions.account_id AND assets.asset_id = trades.asset_id AND assets.asset_id = price_history.asset_id ORDER BY trades.trade_date ASC LIMIT 10
2025-03-17 16:51:13,701 - database_connector - ERROR - Error executing query: 1066 (42000): Not unique table/alias: 'traders'
2025-03-17 16:51:13,702 - query_processor - INFO - No results returned from database
2025-03-17 16:51:13,702 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:51:13] "POST /api/chat HTTP/1.1" 200 -
2025-03-17 16:51:21,854 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-17 16:51:21,854 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-17 16:51:21,854 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-17 16:51:21,854 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-17 16:51:21,855 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-17 16:51:21,855 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'avg', 'constraints': [('median', 'price')]}
2025-03-17 16:51:21,855 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_middle, confidence: 1.0
2025-03-17 16:51:21,855 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'avg', 'constraints': [('median', 'price')]}
2025-03-17 16:51:21,855 - query_processor - INFO - Generated SQL query: SELECT assets.name, assets.asset_type, trades.price FROM assets JOIN trades ON assets.asset_id = trades.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id WHERE assets.asset_id = trades.asset_id AND assets.asset_id = price_history.asset_id LIMIT 10 OFFSET (SELECT COUNT(*)/2 - 5 FROM assets)
2025-03-17 16:51:21,855 - database_connector - ERROR - Error executing query: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(SELECT COUNT(*)/2 - 5 FROM assets)' at line 1
2025-03-17 16:51:21,855 - query_processor - INFO - No results returned from database
2025-03-17 16:51:21,856 - werkzeug - INFO - 127.0.0.1 - - [17/Mar/2025 16:51:21] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 12:32:22,288 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 12:32:22,297 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 12:32:22,297 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 12:32:22,298 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 12:32:22,298 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 12:32:22,298 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 12:32:22,298 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 12:32:22,299 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 12:32:25,528 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 12:32:25,530 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 12:32:25,532 - intent_processor - INFO - Loaded original intent examples
2025-03-18 12:32:25,532 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 12:32:25,532 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 12:32:25,534 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 12:32:25,534 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 12:32:25,534 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 12:32:25,537 - __main__ - INFO - All components initialized successfully
2025-03-18 12:32:27,636 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 12:32:27,637 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 12:32:27,638 - __main__ - INFO - Training API routes added successfully
2025-03-18 12:32:27,639 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 12:32:27,655 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 12:32:27,655 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 12:32:27,658 - werkzeug - INFO -  * Restarting with stat
2025-03-18 12:32:32,120 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 12:32:32,121 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 12:32:32,121 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 12:32:32,121 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 12:32:32,121 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 12:32:32,121 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 12:32:32,121 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 12:32:32,122 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 12:32:36,251 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 12:32:36,252 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 12:32:36,254 - intent_processor - INFO - Loaded original intent examples
2025-03-18 12:32:36,254 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 12:32:36,254 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 12:32:36,258 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 12:32:36,258 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 12:32:36,258 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 12:32:36,262 - __main__ - INFO - All components initialized successfully
2025-03-18 12:32:38,308 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 12:32:38,309 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 12:32:38,311 - __main__ - INFO - Training API routes added successfully
2025-03-18 12:32:38,312 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 12:32:38,324 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 12:32:38,329 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 12:32:38,378 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 12:32:38] "GET / HTTP/1.1" 200 -
2025-03-18 12:32:38,562 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 12:32:38] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 12:32:38,566 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 12:32:38] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 12:32:38,568 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 12:32:38] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 12:32:38,678 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 12:32:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-18 12:32:52,120 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 12:32:52,120 - quick_intent_merger - INFO - Pattern matches: ['\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 12:32:52,121 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 12:32:52,121 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 12:32:52,121 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_highest, Parent intent: database_query_comparative
2025-03-18 12:32:52,122 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'trade_count', 'aggregation': 'count', 'operation': 'max', 'constraints': [('highest', 'account')]}
2025-03-18 12:32:52,122 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_highest, confidence: 1.0
2025-03-18 12:32:52,122 - query_processor - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'trade_count', 'aggregation': 'count', 'operation': 'max', 'constraints': [('highest', 'account')]}
2025-03-18 12:32:52,122 - query_processor - INFO - Generated SQL query: SELECT traders.name, traders.registration_date, COUNT(trades.trade_id) as trade_count FROM traders JOIN trades ON traders.trader_id = trades.trader_id WHERE traders.trader_id = trades.trader_id GROUP BY traders.trader_id ORDER BY trade_count DESC LIMIT 10
2025-03-18 12:32:52,159 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 12:32:52] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 12:33:02,744 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 12:33:02,746 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 12:33:02,746 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 12:33:02,746 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 12:33:02,746 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-18 12:33:02,746 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-18 12:33:02,746 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_descending, confidence: 1.0
2025-03-18 12:33:02,746 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-18 12:33:02,748 - query_processor - INFO - Generated SQL query: SELECT assets.name, assets.asset_type, trades.price FROM assets JOIN trades ON assets.asset_id = trades.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id WHERE assets.asset_id = trades.asset_id AND assets.asset_id = price_history.asset_id ORDER BY trades.price DESC LIMIT 10
2025-03-18 12:33:02,771 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 12:33:02] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 12:33:12,619 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 0.7462316155433655
2025-03-18 12:33:12,619 - quick_intent_merger - INFO - Pattern matches: ['\\b(lowest|minimum|least|bottom|smallest|cheapest|worst)', '\\b(count|how many|number of|total number)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 12:33:12,620 - quick_intent_merger - INFO - Low ML confidence (0.7462316155433655). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 12:33:12,620 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 12:33:12,620 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 12:33:12,621 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_lowest, Parent intent: database_query_comparative
2025-03-18 12:33:12,621 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'transaction_count', 'aggregation': 'count', 'operation': 'min', 'constraints': [('lowest', 'transaction')]}
2025-03-18 12:33:12,621 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_lowest, confidence: 0.9
2025-03-18 12:33:12,621 - query_processor - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'transaction_count', 'aggregation': 'count', 'operation': 'min', 'constraints': [('lowest', 'transaction')]}
2025-03-18 12:33:12,621 - query_processor - INFO - Generated SQL query: SELECT traders.name, traders.registration_date, COUNT(transactions.transaction_id) as transaction_count FROM traders JOIN transactions ON traders.trader_id = accounts.trader_id AND accounts.account_id = transactions.account_id WHERE traders.trader_id = accounts.trader_id AND accounts.account_id = transactions.account_id GROUP BY traders.trader_id ORDER BY transaction_count ASC LIMIT 10
2025-03-18 12:33:12,624 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'accounts.trader_id' in 'where clause'
2025-03-18 12:33:12,624 - query_processor - INFO - No results returned from database
2025-03-18 12:33:12,624 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 12:33:12] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 12:35:27,256 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 12:35:27,257 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 12:35:27,257 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 12:35:27,257 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 12:35:27,257 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_ascending, Parent intent: database_query_sort
2025-03-18 12:35:27,258 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'trades', 'attribute': 'date', 'aggregation': None, 'operation': 'sort_asc', 'constraints': []}
2025-03-18 12:35:27,258 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_ascending, confidence: 1.0
2025-03-18 12:35:27,258 - query_processor - INFO - Query semantics: {'entity_type': 'trades', 'attribute': 'date', 'aggregation': None, 'operation': 'sort_asc', 'constraints': []}
2025-03-18 12:35:27,259 - query_processor - INFO - Generated SQL query: SELECT trades.trade_date, trades.quantity, trades.trade_date FROM trades JOIN orders ON trades.trade_id = orders.trade_id JOIN traders ON trades.trader_id = traders.trader_id JOIN traders ON trades.trader_id = traders.trader_id JOIN accounts ON traders.trader_id = accounts.trader_id JOIN accounts ON None JOIN transactions ON accounts.account_id = transactions.account_id JOIN assets ON trades.asset_id = assets.asset_id JOIN assets ON trades.asset_id = assets.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id WHERE orders.trade_id = trades.trade_id AND traders.trader_id = trades.trader_id AND traders.trader_id = accounts.trader_id AND accounts.account_id = transactions.account_id AND assets.asset_id = trades.asset_id AND assets.asset_id = price_history.asset_id ORDER BY trades.trade_date ASC LIMIT 10
2025-03-18 12:35:27,260 - database_connector - ERROR - Error executing query: 1066 (42000): Not unique table/alias: 'traders'
2025-03-18 12:35:27,260 - query_processor - INFO - No results returned from database
2025-03-18 12:35:27,260 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 12:35:27] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 12:35:35,241 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 12:35:35,241 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 12:35:35,241 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 12:35:35,241 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 12:35:35,242 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-18 12:35:35,242 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'avg', 'constraints': [('median', 'price')]}
2025-03-18 12:35:35,242 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_middle, confidence: 1.0
2025-03-18 12:35:35,242 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'avg', 'constraints': [('median', 'price')]}
2025-03-18 12:35:35,242 - query_processor - INFO - Generated SQL query: SELECT assets.name, assets.asset_type, trades.price FROM assets JOIN trades ON assets.asset_id = trades.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id WHERE assets.asset_id = trades.asset_id AND assets.asset_id = price_history.asset_id LIMIT 10 OFFSET (SELECT COUNT(*)/2 - 5 FROM assets)
2025-03-18 12:35:35,243 - database_connector - ERROR - Error executing query: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(SELECT COUNT(*)/2 - 5 FROM assets)' at line 1
2025-03-18 12:35:35,243 - query_processor - INFO - No results returned from database
2025-03-18 12:35:35,244 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 12:35:35] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:06:15,784 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:06:15,785 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-18 14:06:15,787 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:06:15,787 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:06:15,787 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:06:15,791 - __main__ - INFO - All components initialized successfully
2025-03-18 14:06:17,821 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:06:17,822 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:06:17,824 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:06:17,824 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:06:17,848 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 14:06:17,848 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 14:06:17,850 - werkzeug - INFO -  * Restarting with stat
2025-03-18 14:06:23,927 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:06:23,929 - __main__ - WARNING - Model not found at models/intent_classifier. Using uninitialized classifier.
2025-03-18 14:06:23,932 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:06:23,932 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:06:23,932 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:06:23,937 - __main__ - INFO - All components initialized successfully
2025-03-18 14:06:25,982 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:06:25,982 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:06:25,985 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:06:25,985 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:06:25,996 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 14:06:26,001 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 14:06:26,035 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:06:26] "GET / HTTP/1.1" 200 -
2025-03-18 14:06:26,180 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:06:26] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 14:06:26,193 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:06:26] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 14:06:26,203 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:06:26] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 14:06:29,639 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-18 14:06:29,639 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-18 14:06:29,639 - quick_intent_merger - INFO - Pattern matches: ['\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 14:06:29,639 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_highest'}
2025-03-18 14:06:29,642 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_highest'}
2025-03-18 14:06:29,642 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_highest'}
2025-03-18 14:06:29,642 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_highest, Parent intent: database_query_comparative
2025-03-18 14:06:29,642 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'trade_count', 'aggregation': 'count', 'operation': 'max', 'constraints': [('highest', 'account')]}
2025-03-18 14:06:29,642 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_highest, confidence: 0.9
2025-03-18 14:06:29,642 - query_processor - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'trade_count', 'aggregation': 'count', 'operation': 'max', 'constraints': [('highest', 'account')]}
2025-03-18 14:06:29,643 - query_processor - INFO - Generated SQL query: SELECT traders.name, traders.registration_date, COUNT(trades.trade_id) as trade_count FROM traders JOIN trades ON traders.trader_id = trades.trader_id WHERE traders.trader_id = trades.trader_id GROUP BY traders.trader_id ORDER BY trade_count DESC LIMIT 10
2025-03-18 14:06:29,645 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:06:29] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:06:38,426 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-18 14:06:38,426 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-18 14:06:38,426 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 14:06:38,428 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_sort', 'sub_intent': 'database_query_sort_descending'}
2025-03-18 14:06:38,428 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-18 14:06:38,428 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_descending'}
2025-03-18 14:06:38,428 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-18 14:06:38,428 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-18 14:06:38,428 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_descending, confidence: 0.9
2025-03-18 14:06:38,428 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-18 14:06:38,428 - model.chatbot_engine - ERROR - Error processing user input: QueryProcessor._handle_sort_query() takes 2 positional arguments but 4 were given
2025-03-18 14:06:38,430 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:06:38] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:06:49,254 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-18 14:06:49,254 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-18 14:06:49,254 - quick_intent_merger - INFO - Pattern matches: ['\\b(lowest|minimum|least|bottom|smallest|cheapest|worst)', '\\b(count|how many|number of|total number)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 14:06:49,254 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 14:06:49,254 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 14:06:49,254 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 14:06:49,254 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_lowest, Parent intent: database_query_comparative
2025-03-18 14:06:49,257 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'transaction_count', 'aggregation': 'count', 'operation': 'min', 'constraints': [('lowest', 'transaction')]}
2025-03-18 14:06:49,257 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_lowest, confidence: 0.9
2025-03-18 14:06:49,257 - query_processor - INFO - Query semantics: {'entity_type': 'traders', 'attribute': 'transaction_count', 'aggregation': 'count', 'operation': 'min', 'constraints': [('lowest', 'transaction')]}
2025-03-18 14:06:49,257 - query_processor - INFO - Generated SQL query: SELECT traders.name, traders.registration_date, COUNT(transactions.transaction_id) as transaction_count FROM traders JOIN accounts ON traders.trader_id = accounts.trader_id JOIN accounts ON traders.trader_id = accounts.trader_id JOIN transactions ON accounts.account_id = transactions.account_id WHERE traders.trader_id = accounts.trader_id AND accounts.account_id = transactions.account_id GROUP BY traders.trader_id ORDER BY transaction_count ASC LIMIT 10
2025-03-18 14:06:49,257 - database_connector - ERROR - Error executing query: 1066 (42000): Not unique table/alias: 'accounts'
2025-03-18 14:06:49,257 - query_processor - INFO - No results returned from database
2025-03-18 14:06:49,260 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:06:49] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:06:54,953 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-18 14:06:54,953 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-18 14:06:54,955 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 14:06:54,955 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_sort', 'sub_intent': 'database_query_sort_ascending'}
2025-03-18 14:06:54,955 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_ascending'}
2025-03-18 14:06:54,955 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 0.9, 'sub_intent': 'database_query_sort_ascending'}
2025-03-18 14:06:54,955 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_ascending, Parent intent: database_query_sort
2025-03-18 14:06:54,955 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'trades', 'attribute': 'date', 'aggregation': None, 'operation': 'sort_asc', 'constraints': []}
2025-03-18 14:06:54,955 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_ascending, confidence: 0.9
2025-03-18 14:06:54,956 - query_processor - INFO - Query semantics: {'entity_type': 'trades', 'attribute': 'date', 'aggregation': None, 'operation': 'sort_asc', 'constraints': []}
2025-03-18 14:06:54,956 - model.chatbot_engine - ERROR - Error processing user input: QueryProcessor._handle_sort_query() takes 2 positional arguments but 4 were given
2025-03-18 14:06:54,956 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:06:54] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:07:00,478 - model.intent_classifier - ERROR - Model or tokenizer not initialized
2025-03-18 14:07:00,478 - quick_intent_merger - INFO - Original ML classification: database_query_list with confidence 0.5
2025-03-18 14:07:00,478 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 14:07:00,478 - quick_intent_merger - INFO - Low ML confidence (0.5). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_middle'}
2025-03-18 14:07:00,478 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_middle'}
2025-03-18 14:07:00,478 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_middle'}
2025-03-18 14:07:00,478 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-18 14:07:00,479 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'avg', 'constraints': [('median', 'price')]}
2025-03-18 14:07:00,479 - query_processor - INFO - Processing query with intent: database_query_comparative, sub-intent: database_query_comparative_middle, confidence: 0.9
2025-03-18 14:07:00,479 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'avg', 'constraints': [('median', 'price')]}
2025-03-18 14:07:00,479 - query_processor - INFO - Generated SQL query: SELECT assets.name, assets.asset_type, trades.price FROM assets JOIN trades ON assets.asset_id = trades.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id WHERE assets.asset_id = trades.asset_id AND assets.asset_id = price_history.asset_id LIMIT 10 OFFSET (SELECT COUNT(*)/2 - 5 FROM assets)
2025-03-18 14:07:00,479 - database_connector - ERROR - Error executing query: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(SELECT COUNT(*)/2 - 5 FROM assets)' at line 1
2025-03-18 14:07:00,479 - query_processor - INFO - No results returned from database
2025-03-18 14:07:00,479 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:07:00] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:09:34,547 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:09:34,548 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 14:09:34,548 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 14:09:34,548 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 14:09:34,548 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 14:09:34,548 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 14:09:34,549 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 14:09:34,549 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 14:09:35,649 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 14:09:35,651 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 14:09:35,652 - intent_processor - INFO - Loaded original intent examples
2025-03-18 14:09:35,652 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 14:09:35,653 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 14:09:35,656 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:09:35,656 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:09:35,656 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:09:35,661 - __main__ - INFO - All components initialized successfully
2025-03-18 14:09:37,714 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:09:37,714 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:09:37,717 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:09:37,717 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:09:37,734 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 14:09:37,734 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 14:09:37,738 - werkzeug - INFO -  * Restarting with stat
2025-03-18 14:09:43,932 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:09:43,932 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 14:09:43,932 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 14:09:43,932 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 14:09:43,932 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 14:09:43,932 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 14:09:43,932 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 14:09:43,934 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 14:09:45,819 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 14:09:45,820 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 14:09:45,821 - intent_processor - INFO - Loaded original intent examples
2025-03-18 14:09:45,821 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 14:09:45,821 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 14:09:45,824 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:09:45,825 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:09:45,825 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:09:45,828 - __main__ - INFO - All components initialized successfully
2025-03-18 14:09:47,861 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:09:47,861 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:09:47,861 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:09:47,861 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:09:47,877 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 14:09:47,888 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 14:09:47,926 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:09:47] "GET / HTTP/1.1" 200 -
2025-03-18 14:09:48,140 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:09:48] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 14:09:48,156 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:09:48] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 14:09:48,156 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:09:48] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 14:10:00,658 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 14:10:00,658 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 14:10:00,658 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 14:10:00,658 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 14:10:00,658 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-18 14:10:00,658 - model.chatbot_engine - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-18 14:10:00,658 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_descending, confidence: 1.0
2025-03-18 14:10:00,658 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-18 14:10:00,658 - model.chatbot_engine - ERROR - Error processing user input: QueryProcessor._handle_sort_query() takes 2 positional arguments but 4 were given
2025-03-18 14:10:00,658 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:10:00] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:12:53,360 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:12:53,360 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 14:12:53,360 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 14:12:53,360 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 14:12:53,361 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 14:12:53,361 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 14:12:53,361 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 14:12:53,362 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 14:12:54,443 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 14:12:54,444 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 14:12:54,446 - intent_processor - INFO - Loaded original intent examples
2025-03-18 14:12:54,446 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 14:12:54,446 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 14:12:54,448 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:12:54,448 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:12:54,448 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:12:54,450 - __main__ - INFO - All components initialized successfully
2025-03-18 14:12:56,518 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:12:56,519 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:12:56,521 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:12:56,521 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:12:56,538 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 14:12:56,538 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 14:12:56,542 - werkzeug - INFO -  * Restarting with stat
2025-03-18 14:13:02,906 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:13:02,906 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 14:13:02,906 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 14:13:02,907 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 14:13:02,907 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 14:13:02,907 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 14:13:02,907 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 14:13:02,908 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 14:13:04,722 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 14:13:04,722 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 14:13:04,722 - intent_processor - INFO - Loaded original intent examples
2025-03-18 14:13:04,722 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 14:13:04,722 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 14:13:04,729 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:13:04,729 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:13:04,729 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:13:04,729 - __main__ - INFO - All components initialized successfully
2025-03-18 14:13:06,781 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:13:06,781 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:13:06,783 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:13:06,783 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:13:06,797 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 14:13:06,806 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 14:13:06,859 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:13:06] "GET / HTTP/1.1" 200 -
2025-03-18 14:13:07,055 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:13:07] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 14:13:07,075 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:13:07] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 14:13:07,078 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:13:07] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 14:13:16,621 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 14:13:16,621 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 14:13:16,621 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 14:13:16,621 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 14:13:16,621 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-18 14:13:16,621 - query_processor - INFO - Processing query with intent: database_query_sort, sub-intent: database_query_sort_descending, confidence: 1.0
2025-03-18 14:13:16,621 - query_processor - INFO - Query semantics: {'entity_type': 'assets', 'attribute': 'price', 'aggregation': None, 'operation': 'sort_desc', 'constraints': []}
2025-03-18 14:13:16,621 - model.chatbot_engine - ERROR - Error processing user input: QueryProcessor._handle_sort_query() takes 2 positional arguments but 4 were given
2025-03-18 14:13:16,621 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:13:16] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:14:56,554 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:14:56,555 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 14:14:56,555 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 14:14:56,555 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 14:14:56,555 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 14:14:56,555 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 14:14:56,555 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 14:14:56,556 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 14:14:57,672 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 14:14:57,674 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 14:14:57,675 - intent_processor - INFO - Loaded original intent examples
2025-03-18 14:14:57,675 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 14:14:57,675 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 14:14:57,678 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:14:57,678 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:14:57,678 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:14:57,682 - __main__ - INFO - All components initialized successfully
2025-03-18 14:14:59,742 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:14:59,742 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:14:59,745 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:14:59,745 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:14:59,765 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 14:14:59,765 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 14:14:59,767 - werkzeug - INFO -  * Restarting with stat
2025-03-18 14:15:06,118 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:15:06,118 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 14:15:06,118 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 14:15:06,119 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 14:15:06,119 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 14:15:06,119 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 14:15:06,119 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 14:15:06,120 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 14:15:07,866 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 14:15:07,866 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 14:15:07,868 - intent_processor - INFO - Loaded original intent examples
2025-03-18 14:15:07,868 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 14:15:07,868 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 14:15:07,868 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:15:07,868 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:15:07,868 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:15:07,878 - __main__ - INFO - All components initialized successfully
2025-03-18 14:15:09,933 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:15:09,933 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:15:09,936 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:15:09,936 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:15:09,952 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 14:15:09,956 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 14:15:10,000 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:15:10] "GET / HTTP/1.1" 200 -
2025-03-18 14:15:10,212 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:15:10] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 14:15:10,216 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:15:10] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 14:15:10,219 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:15:10] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 14:15:18,322 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 14:15:18,322 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 14:15:18,322 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 14:15:18,322 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 14:15:18,322 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-18 14:15:18,322 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 14:15:18,327 - query_processor - INFO - Using sub-intent handler: database_query_sort_descending
2025-03-18 14:15:18,329 - query_processor - INFO - Generated sort descending SQL: SELECT price_history.price_date, price_history.close_price, assets.name FROM orders JOIN trades ON orders.trade_id = trades.trade_id JOIN assets ON trades.asset_id = assets.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id ORDER BY price_history.close_price DESC LIMIT 100
2025-03-18 14:15:18,356 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:15:18] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:15:33,694 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 0.7462316155433655
2025-03-18 14:15:33,694 - quick_intent_merger - INFO - Pattern matches: ['\\b(lowest|minimum|least|bottom|smallest|cheapest|worst)', '\\b(count|how many|number of|total number)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 14:15:33,694 - quick_intent_merger - INFO - Low ML confidence (0.7462316155433655). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 14:15:33,694 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 14:15:33,694 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 14:15:33,694 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_lowest, Parent intent: database_query_comparative
2025-03-18 14:15:33,699 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 0.9
2025-03-18 14:15:33,699 - query_processor - INFO - Using sub-intent handler: database_query_comparative_lowest
2025-03-18 14:15:33,699 - query_processor - INFO - Generated lowest value SQL: SELECT traders.name, traders.registration_date FROM transactions JOIN accounts ON transactions.account_id = accounts.account_id JOIN traders ON accounts.trader_id = traders.trader_id ORDER BY transactions.amount ASC LIMIT 10
2025-03-18 14:15:33,737 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:15:33] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:15:43,374 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 14:15:43,374 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 14:15:43,374 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 14:15:43,374 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 14:15:43,374 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_ascending, Parent intent: database_query_sort
2025-03-18 14:15:43,374 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 14:15:43,374 - query_processor - INFO - Using sub-intent handler: database_query_sort_ascending
2025-03-18 14:15:43,374 - query_processor - INFO - Generated sort ascending SQL: SELECT orders.order_date, trades.trade_date FROM orders JOIN trades ON orders.trade_id = trades.trade_id ORDER BY trades.trade_date ASC LIMIT 100
2025-03-18 14:15:43,391 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:15:43] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:15:54,364 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 14:15:54,364 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 14:15:54,364 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 14:15:54,364 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 14:15:54,364 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-18 14:15:54,364 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 14:15:54,364 - query_processor - INFO - Using sub-intent handler: database_query_comparative_middle
2025-03-18 14:15:54,377 - query_processor - INFO - Generated middle value SQL: SELECT price_history.price_date, price_history.close_price, assets.name FROM price_history JOIN assets ON price_history.asset_id = assets.asset_id ORDER BY price_history.price_id LIMIT 0, 10
2025-03-18 14:15:54,381 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:15:54] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:33:12,806 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:33:12,807 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 14:33:12,807 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 14:33:12,807 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 14:33:12,807 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 14:33:12,807 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 14:33:12,807 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 14:33:12,808 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 14:33:13,904 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 14:33:13,905 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 14:33:13,906 - intent_processor - INFO - Loaded original intent examples
2025-03-18 14:33:13,906 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 14:33:13,906 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 14:33:13,909 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:33:13,909 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:33:13,909 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:33:13,911 - __main__ - INFO - All components initialized successfully
2025-03-18 14:33:15,964 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:33:15,964 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:33:15,966 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:33:15,966 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:33:15,995 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 14:33:15,995 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 14:33:15,998 - werkzeug - INFO -  * Restarting with stat
2025-03-18 14:33:21,990 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:33:21,990 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 14:33:21,990 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 14:33:21,991 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 14:33:21,991 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 14:33:21,991 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 14:33:21,991 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 14:33:21,992 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 14:33:23,690 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 14:33:23,691 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 14:33:23,692 - intent_processor - INFO - Loaded original intent examples
2025-03-18 14:33:23,692 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 14:33:23,692 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 14:33:23,694 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:33:23,695 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:33:23,695 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:33:23,697 - __main__ - INFO - All components initialized successfully
2025-03-18 14:33:25,736 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:33:25,736 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:33:25,739 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:33:25,739 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:33:25,752 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 14:33:25,759 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 14:33:30,453 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:33:30] "GET / HTTP/1.1" 200 -
2025-03-18 14:33:30,634 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:33:30] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 14:33:30,646 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:33:30] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 14:33:30,650 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:33:30] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 14:33:40,437 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 14:33:40,437 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 14:33:40,437 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 14:33:40,437 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 14:33:40,437 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-18 14:33:40,437 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 14:33:40,437 - query_processor - INFO - Using sub-intent handler: database_query_comparative_middle
2025-03-18 14:33:40,445 - query_processor - INFO - Total records: 10, getting records from offset 0
2025-03-18 14:33:40,445 - query_processor - INFO - Generated middle value SQL: SELECT assets.name, price_history.price_date, price_history.close_price FROM assets JOIN price_history ON assets.asset_id = price_history.asset_id ORDER BY price_history.close_price LIMIT 0, 10
2025-03-18 14:33:40,449 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:33:40] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:53:07,834 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:53:07,835 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 14:53:07,835 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 14:53:07,835 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 14:53:07,835 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 14:53:07,836 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 14:53:07,836 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 14:53:07,837 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 14:53:08,900 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 14:53:08,900 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 14:53:08,902 - intent_processor - INFO - Loaded original intent examples
2025-03-18 14:53:08,902 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 14:53:08,902 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 14:53:08,904 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:53:08,904 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:53:08,904 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:53:08,906 - __main__ - INFO - All components initialized successfully
2025-03-18 14:53:10,959 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:53:10,959 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:53:10,964 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:53:10,964 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:53:10,989 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 14:53:10,991 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 14:53:10,995 - werkzeug - INFO -  * Restarting with stat
2025-03-18 14:53:16,793 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 14:53:16,796 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 14:53:16,796 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 14:53:16,796 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 14:53:16,796 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 14:53:16,796 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 14:53:16,796 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 14:53:16,796 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 14:53:18,549 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 14:53:18,550 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 14:53:18,550 - intent_processor - INFO - Loaded original intent examples
2025-03-18 14:53:18,550 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 14:53:18,550 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 14:53:18,550 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 14:53:18,550 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 14:53:18,550 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 14:53:18,550 - __main__ - INFO - All components initialized successfully
2025-03-18 14:53:20,593 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 14:53:20,596 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 14:53:20,596 - __main__ - INFO - Training API routes added successfully
2025-03-18 14:53:20,596 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 14:53:20,612 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 14:53:20,616 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 14:53:27,343 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:53:27] "GET / HTTP/1.1" 200 -
2025-03-18 14:53:27,530 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:53:27] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 14:53:27,532 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:53:27] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 14:53:27,532 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:53:27] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 14:53:36,110 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 14:53:36,114 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 14:53:36,114 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 14:53:36,114 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 14:53:36,114 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-18 14:53:36,114 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 14:53:36,114 - query_processor - INFO - Using sub-intent handler: database_query_comparative_middle
2025-03-18 14:53:36,125 - query_processor - INFO - Total records (10) is <= limit (10), returning all sorted by price_history.close_price
2025-03-18 14:53:36,125 - query_processor - INFO - Generated median value SQL (small dataset): SELECT assets.name, price_history.price_date, price_history.close_price FROM assets JOIN price_history ON assets.asset_id = price_history.asset_id ORDER BY price_history.close_price
2025-03-18 14:53:36,125 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:53:36] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 14:54:38,695 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 14:54:38,695 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 14:54:38,695 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 14:54:38,695 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 14:54:38,695 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_ascending, Parent intent: database_query_sort
2025-03-18 14:54:38,697 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 14:54:38,697 - query_processor - INFO - Using sub-intent handler: database_query_sort_ascending
2025-03-18 14:54:38,697 - query_processor - INFO - Generated sort ascending SQL: SELECT orders.order_date, trades.trade_date FROM orders JOIN trades ON orders.trade_id = trades.trade_id ORDER BY trades.trade_date ASC LIMIT 100
2025-03-18 14:54:38,699 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 14:54:38] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 15:01:45,038 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 15:01:45,039 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 15:01:45,039 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 15:01:45,039 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 15:01:45,039 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 15:01:45,040 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 15:01:45,040 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 15:01:45,041 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 15:01:46,107 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 15:01:46,108 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 15:01:46,109 - intent_processor - INFO - Loaded original intent examples
2025-03-18 15:01:46,110 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 15:01:46,110 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 15:01:46,112 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 15:01:46,112 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 15:01:46,112 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 15:01:46,114 - __main__ - INFO - All components initialized successfully
2025-03-18 15:01:48,174 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 15:01:48,174 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 15:01:48,177 - __main__ - INFO - Training API routes added successfully
2025-03-18 15:01:48,177 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 15:01:48,197 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 15:01:48,197 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 15:01:48,199 - werkzeug - INFO -  * Restarting with stat
2025-03-18 15:01:54,455 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 15:01:54,455 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 15:01:54,455 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 15:01:54,456 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 15:01:54,456 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 15:01:54,456 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 15:01:54,456 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 15:01:54,458 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 15:01:56,266 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 15:01:56,267 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 15:01:56,268 - intent_processor - INFO - Loaded original intent examples
2025-03-18 15:01:56,268 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 15:01:56,268 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 15:01:56,271 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 15:01:56,271 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 15:01:56,271 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 15:01:56,275 - __main__ - INFO - All components initialized successfully
2025-03-18 15:01:58,333 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 15:01:58,333 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 15:01:58,336 - __main__ - INFO - Training API routes added successfully
2025-03-18 15:01:58,336 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 15:01:58,347 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 15:01:58,352 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 15:02:14,494 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 15:02:14] "GET / HTTP/1.1" 200 -
2025-03-18 15:02:14,669 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 15:02:14] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 15:02:14,688 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 15:02:14] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 15:02:14,690 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 15:02:14] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 15:02:26,176 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 15:02:26,176 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 15:02:26,176 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 15:02:26,176 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 15:02:26,176 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-18 15:02:26,176 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 15:02:26,178 - query_processor - INFO - Using sub-intent handler: database_query_comparative_middle
2025-03-18 15:02:26,181 - query_processor - INFO - Total records: 10, getting 3 records from offset 4
2025-03-18 15:02:26,181 - query_processor - INFO - Generated middle value SQL: SELECT assets.name, price_history.price_date, price_history.close_price FROM assets JOIN price_history ON assets.asset_id = price_history.asset_id ORDER BY price_history.close_price LIMIT 4, 3
2025-03-18 15:02:26,184 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 15:02:26] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 15:56:21,054 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 15:56:21,055 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 15:56:21,055 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 15:56:21,055 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 15:56:21,055 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 15:56:21,056 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 15:56:21,056 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 15:56:21,057 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 15:56:22,058 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 15:56:22,059 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 15:56:22,060 - intent_processor - INFO - Loaded original intent examples
2025-03-18 15:56:22,061 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 15:56:22,061 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 15:56:22,063 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 15:56:22,063 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 15:56:22,063 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 15:56:22,065 - __main__ - INFO - All components initialized successfully
2025-03-18 15:56:24,124 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 15:56:24,125 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 15:56:24,126 - __main__ - INFO - Training API routes added successfully
2025-03-18 15:56:24,126 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 15:56:24,143 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 15:56:24,143 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 15:56:24,145 - werkzeug - INFO -  * Restarting with stat
2025-03-18 15:56:28,457 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 15:56:28,458 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 15:56:28,458 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 15:56:28,458 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 15:56:28,458 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 15:56:28,458 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 15:56:28,459 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 15:56:28,459 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 15:56:29,941 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 15:56:29,942 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 15:56:29,943 - intent_processor - INFO - Loaded original intent examples
2025-03-18 15:56:29,944 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 15:56:29,944 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 15:56:29,946 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 15:56:29,946 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 15:56:29,946 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 15:56:29,948 - __main__ - INFO - All components initialized successfully
2025-03-18 15:56:31,997 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 15:56:31,997 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 15:56:31,998 - __main__ - INFO - Training API routes added successfully
2025-03-18 15:56:31,998 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 15:56:32,006 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 15:56:32,009 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 15:56:32,031 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 15:56:32] "GET / HTTP/1.1" 200 -
2025-03-18 15:56:32,112 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 15:56:32] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 15:56:32,121 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 15:56:32] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 15:56:32,122 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 15:56:32] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 16:13:11,692 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 16:13:11,692 - quick_intent_merger - INFO - Pattern matches: ['\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 16:13:11,693 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 16:13:11,693 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 16:13:11,693 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_highest, Parent intent: database_query_comparative
2025-03-18 16:13:11,693 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 16:13:11,693 - query_processor - INFO - Using sub-intent handler: database_query_comparative_highest
2025-03-18 16:13:11,694 - query_processor - INFO - Generated highest value SQL: SELECT traders.name, traders.registration_date FROM traders JOIN accounts ON traders.trader_id = accounts.trader_id ORDER BY accounts.balance DESC LIMIT 10
2025-03-18 16:13:11,698 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:13:11] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 16:13:24,229 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 16:13:24,229 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 16:13:24,229 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 16:13:24,229 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 16:13:24,229 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-18 16:13:24,229 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 16:13:24,229 - query_processor - INFO - Using sub-intent handler: database_query_sort_descending
2025-03-18 16:13:24,230 - query_processor - INFO - Generated sort descending SQL: SELECT price_history.price_date, price_history.close_price, assets.name FROM price_history JOIN assets ON price_history.asset_id = assets.asset_id JOIN trades ON assets.asset_id = trades.asset_id JOIN orders ON trades.trade_id = orders.trade_id ORDER BY price_history.close_price DESC LIMIT 100
2025-03-18 16:13:24,232 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:13:24] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 16:13:39,387 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 0.7462316155433655
2025-03-18 16:13:39,387 - quick_intent_merger - INFO - Pattern matches: ['\\b(lowest|minimum|least|bottom|smallest|cheapest|worst)', '\\b(count|how many|number of|total number)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 16:13:39,387 - quick_intent_merger - INFO - Low ML confidence (0.7462316155433655). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 16:13:39,387 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 16:13:39,387 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 16:13:39,387 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_lowest, Parent intent: database_query_comparative
2025-03-18 16:13:39,387 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 0.9
2025-03-18 16:13:39,387 - query_processor - INFO - Using sub-intent handler: database_query_comparative_lowest
2025-03-18 16:13:39,387 - query_processor - INFO - Generated lowest value SQL: SELECT traders.name, traders.registration_date FROM traders JOIN accounts ON traders.trader_id = accounts.trader_id JOIN transactions ON accounts.account_id = transactions.account_id ORDER BY transactions.amount ASC LIMIT 10
2025-03-18 16:13:39,398 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:13:39] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 16:13:57,270 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 16:13:57,270 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 16:13:57,270 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 16:13:57,270 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 16:13:57,270 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_ascending, Parent intent: database_query_sort
2025-03-18 16:13:57,270 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 16:13:57,270 - query_processor - INFO - Using sub-intent handler: database_query_sort_ascending
2025-03-18 16:13:57,271 - query_processor - INFO - Generated sort ascending SQL: SELECT orders.order_date, trades.trade_date FROM orders JOIN trades ON orders.trade_id = trades.trade_id ORDER BY trades.trade_date ASC LIMIT 100
2025-03-18 16:13:57,273 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:13:57] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 16:14:11,775 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 16:14:11,775 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 16:14:11,775 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 16:14:11,775 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 16:14:11,775 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-18 16:14:11,775 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 16:14:11,777 - query_processor - INFO - Using sub-intent handler: database_query_comparative_middle
2025-03-18 16:14:11,777 - query_processor - INFO - Total records: 10, getting 3 records from offset 4
2025-03-18 16:14:11,778 - query_processor - INFO - Generated middle value SQL: SELECT price_history.price_date, price_history.close_price, assets.name FROM price_history JOIN assets ON price_history.asset_id = assets.asset_id ORDER BY price_history.close_price LIMIT 4, 3
2025-03-18 16:14:11,779 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:14:11] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 16:53:00,784 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 16:53:00,785 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 16:53:00,785 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 16:53:00,785 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 16:53:00,785 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 16:53:00,786 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 16:53:00,786 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 16:53:00,787 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 16:53:01,844 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 16:53:01,847 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 16:53:01,849 - intent_processor - INFO - Loaded original intent examples
2025-03-18 16:53:01,849 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 16:53:01,849 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 16:53:01,851 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 16:53:01,851 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 16:53:01,851 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 16:53:01,854 - __main__ - INFO - All components initialized successfully
2025-03-18 16:53:03,918 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 16:53:03,918 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 16:53:03,920 - __main__ - INFO - Training API routes added successfully
2025-03-18 16:53:03,921 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 16:53:03,943 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 16:53:03,943 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 16:53:03,947 - werkzeug - INFO -  * Restarting with stat
2025-03-18 16:53:10,267 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 16:53:10,267 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 16:53:10,267 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 16:53:10,267 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 16:53:10,267 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 16:53:10,267 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 16:53:10,267 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 16:53:10,268 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 16:53:12,110 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 16:53:12,112 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 16:53:12,112 - intent_processor - INFO - Loaded original intent examples
2025-03-18 16:53:12,112 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 16:53:12,112 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 16:53:12,118 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 16:53:12,118 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 16:53:12,118 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 16:53:12,119 - __main__ - INFO - All components initialized successfully
2025-03-18 16:53:14,163 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 16:53:14,163 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 16:53:14,172 - __main__ - INFO - Training API routes added successfully
2025-03-18 16:53:14,172 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 16:53:14,187 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 16:53:14,194 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 16:53:14,230 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:53:14] "GET / HTTP/1.1" 200 -
2025-03-18 16:53:14,428 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:53:14] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 16:53:14,443 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:53:14] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 16:53:14,443 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:53:14] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 16:53:22,476 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 16:53:22,476 - quick_intent_merger - INFO - Pattern matches: ['\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 16:53:22,476 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 16:53:22,476 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 16:53:22,476 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_highest, Parent intent: database_query_comparative
2025-03-18 16:53:22,476 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 16:53:22,484 - query_processor - INFO - Generated generic SQL: SELECT traders.name, trades.market_id, trades.trade_id, trades.quantity, traders.trader_id, trades.asset_id, accounts.account_id, trades.trade_date, traders.registration_date, trades.price, accounts.creation_date, accounts.trader_id, trades.trader_id, accounts.account_type FROM accounts JOIN traders ON accounts.trader_id = traders.trader_id JOIN trades ON traders.trader_id = trades.trader_id ORDER BY accounts.balance DESC LIMIT 10
2025-03-18 16:53:22,484 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:53:22] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 16:53:41,569 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 16:53:41,569 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 16:53:41,570 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 16:53:41,570 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 16:53:41,570 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-18 16:53:41,570 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 16:53:41,570 - model.chatbot_engine - ERROR - Error processing user input: 'QueryProcessor' object has no attribute '_extract_sort_field'
2025-03-18 16:53:41,570 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:53:41] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 16:53:51,730 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 0.7462316155433655
2025-03-18 16:53:51,732 - quick_intent_merger - INFO - Pattern matches: ['\\b(lowest|minimum|least|bottom|smallest|cheapest|worst)', '\\b(count|how many|number of|total number)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 16:53:51,732 - quick_intent_merger - INFO - Low ML confidence (0.7462316155433655). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 16:53:51,732 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 16:53:51,732 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 16:53:51,732 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_lowest, Parent intent: database_query_comparative
2025-03-18 16:53:51,732 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 0.9
2025-03-18 16:53:51,732 - query_processor - INFO - Generated aggregation SQL: SELECT traders.trader_id, traders.name, traders.registration_date, COUNT(transactions.transaction_id) as transaction_count FROM traders JOIN accounts ON transactions.account_id = accounts.account_id JOIN traders ON accounts.trader_id = traders.trader_id JOIN trades ON traders.trader_id = trades.trader_id GROUP BY traders.trader_id, traders.name ORDER BY transaction_count ASC LIMIT 10
2025-03-18 16:53:51,734 - database_connector - ERROR - Error executing query: 1066 (42000): Not unique table/alias: 'traders'
2025-03-18 16:53:51,734 - query_processor - INFO - No results returned from database
2025-03-18 16:53:51,734 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:53:51] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 16:53:59,737 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 16:53:59,737 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 16:53:59,737 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 16:53:59,737 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 16:53:59,737 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_ascending, Parent intent: database_query_sort
2025-03-18 16:53:59,737 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 16:53:59,737 - model.chatbot_engine - ERROR - Error processing user input: 'QueryProcessor' object has no attribute '_extract_sort_field'
2025-03-18 16:53:59,737 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:53:59] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 16:54:06,495 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 16:54:06,495 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 16:54:06,495 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 16:54:06,495 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 16:54:06,495 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-18 16:54:06,495 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 16:54:06,498 - query_processor - INFO - Generated middle value SQL: SELECT assets.asset_id, price_history.price_date, price_history.close_price, price_history.price_id, price_history.asset_id, price_history.open_price, assets.asset_type, assets.broker_id, assets.name FROM assets JOIN price_history ON assets.asset_id = price_history.asset_id ORDER BY price_history.price_id LIMIT 4, 3
2025-03-18 16:54:06,498 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 16:54:06] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:43:41,435 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 17:43:41,435 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 17:43:41,435 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 17:43:41,436 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 17:43:41,436 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 17:43:41,436 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 17:43:41,436 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 17:43:41,437 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 17:43:42,492 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 17:43:42,493 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 17:43:42,494 - intent_processor - INFO - Loaded original intent examples
2025-03-18 17:43:42,494 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 17:43:42,494 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 17:43:42,496 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 17:43:42,497 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 17:43:42,497 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 17:43:42,499 - __main__ - INFO - All components initialized successfully
2025-03-18 17:43:44,573 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 17:43:44,573 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 17:43:44,575 - __main__ - INFO - Training API routes added successfully
2025-03-18 17:43:44,576 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 17:43:44,591 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 17:43:44,591 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 17:43:44,595 - werkzeug - INFO -  * Restarting with stat
2025-03-18 17:43:50,991 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 17:43:50,992 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 17:43:50,992 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 17:43:50,992 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 17:43:50,992 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 17:43:50,993 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 17:43:50,993 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 17:43:50,994 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 17:43:52,910 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 17:43:52,910 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 17:43:52,918 - intent_processor - INFO - Loaded original intent examples
2025-03-18 17:43:52,918 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 17:43:52,918 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 17:43:52,919 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 17:43:52,919 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 17:43:52,919 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 17:43:52,919 - __main__ - INFO - All components initialized successfully
2025-03-18 17:43:54,969 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 17:43:54,969 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 17:43:54,973 - __main__ - INFO - Training API routes added successfully
2025-03-18 17:43:54,973 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 17:43:54,988 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 17:43:54,997 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 17:43:55,042 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:43:55] "GET / HTTP/1.1" 200 -
2025-03-18 17:43:55,248 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:43:55] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 17:43:55,266 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:43:55] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 17:43:55,266 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:43:55] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 17:44:03,179 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 17:44:03,179 - quick_intent_merger - INFO - Pattern matches: ['\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 17:44:03,179 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 17:44:03,179 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 17:44:03,179 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_highest, Parent intent: database_query_comparative
2025-03-18 17:44:03,179 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 17:44:03,182 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:44:03] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:44:22,370 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 17:44:22,370 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 17:44:22,370 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 17:44:22,370 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 17:44:22,370 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-18 17:44:22,370 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 17:44:22,370 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:44:22] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:46:51,538 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 17:46:51,538 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 17:46:51,539 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 17:46:51,539 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 17:46:51,539 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 17:46:51,539 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 17:46:51,539 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 17:46:51,540 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 17:46:52,537 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 17:46:52,538 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 17:46:52,540 - intent_processor - INFO - Loaded original intent examples
2025-03-18 17:46:52,540 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 17:46:52,540 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 17:46:52,542 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 17:46:52,542 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 17:46:52,543 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 17:46:52,545 - __main__ - INFO - All components initialized successfully
2025-03-18 17:46:54,606 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 17:46:54,606 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 17:46:54,608 - __main__ - INFO - Training API routes added successfully
2025-03-18 17:46:54,609 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 17:46:54,625 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 17:46:54,625 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 17:46:54,629 - werkzeug - INFO -  * Restarting with stat
2025-03-18 17:47:01,050 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 17:47:01,052 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 17:47:01,052 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 17:47:01,052 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 17:47:01,052 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 17:47:01,053 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 17:47:01,053 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 17:47:01,053 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 17:47:02,888 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 17:47:02,890 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 17:47:02,890 - intent_processor - INFO - Loaded original intent examples
2025-03-18 17:47:02,890 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 17:47:02,890 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 17:47:02,890 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 17:47:02,890 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 17:47:02,890 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 17:47:02,899 - __main__ - INFO - All components initialized successfully
2025-03-18 17:47:04,940 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 17:47:04,940 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 17:47:04,940 - __main__ - INFO - Training API routes added successfully
2025-03-18 17:47:04,940 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 17:47:04,957 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 17:47:04,966 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 17:47:05,006 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:47:05] "GET / HTTP/1.1" 200 -
2025-03-18 17:47:05,180 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:47:05] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 17:47:05,254 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:47:05] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 17:47:05,254 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:47:05] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 17:47:11,970 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 17:47:11,970 - quick_intent_merger - INFO - Pattern matches: ['\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 17:47:11,970 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 17:47:11,970 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 17:47:11,970 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_highest, Parent intent: database_query_comparative
2025-03-18 17:47:11,970 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 17:47:11,976 - query_processor - INFO - Generated generic SQL: SELECT trades.trader_id, accounts.creation_date, trades.market_id, accounts.account_id, traders.name, trades.trade_id, trades.trade_date, traders.trader_id, accounts.trader_id, trades.price, traders.registration_date, trades.quantity, trades.asset_id, accounts.account_type FROM accounts JOIN traders ON accounts.trader_id = traders.trader_id JOIN trades ON traders.trader_id = trades.trader_id ORDER BY accounts.balance DESC LIMIT 10
2025-03-18 17:47:11,982 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:47:11] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:47:18,184 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 17:47:18,184 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 17:47:18,184 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 17:47:18,184 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 17:47:18,184 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-18 17:47:18,184 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 17:47:18,187 - query_processor - INFO - Generated generic SQL: SELECT price_history.open_price, orders.trade_id, assets.broker_id, assets.asset_id, price_history.close_price, orders.order_date, price_history.price_id, price_history.price_date, orders.order_type, assets.asset_type, price_history.asset_id, orders.order_id, assets.name FROM assets JOIN price_history ON assets.asset_id = price_history.asset_id JOIN trades ON assets.asset_id = trades.asset_id JOIN orders ON trades.trade_id = orders.trade_id ORDER BY assets.name DESC LIMIT 100
2025-03-18 17:47:18,204 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:47:18] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:47:23,889 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 0.7462316155433655
2025-03-18 17:47:23,889 - quick_intent_merger - INFO - Pattern matches: ['\\b(lowest|minimum|least|bottom|smallest|cheapest|worst)', '\\b(count|how many|number of|total number)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 17:47:23,889 - quick_intent_merger - INFO - Low ML confidence (0.7462316155433655). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 17:47:23,889 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 17:47:23,889 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 17:47:23,889 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_lowest, Parent intent: database_query_comparative
2025-03-18 17:47:23,889 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 0.9
2025-03-18 17:47:23,889 - query_processor - INFO - Generated aggregation SQL: SELECT traders.trader_id, traders.name, traders.registration_date, COUNT(transactions.transaction_id) as transaction_count FROM traders JOIN accounts ON traders.trader_id = accounts.trader_id JOIN transactions ON accounts.account_id = transactions.account_id JOIN trades ON traders.trader_id = trades.trader_id GROUP BY traders.trader_id, traders.name ORDER BY transaction_count ASC LIMIT 10
2025-03-18 17:47:23,905 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:47:23] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:47:32,813 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 17:47:32,813 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 17:47:32,813 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 17:47:32,813 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 17:47:32,813 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_ascending, Parent intent: database_query_sort
2025-03-18 17:47:32,813 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 17:47:32,813 - query_processor - INFO - Generated generic SQL: SELECT trades.trader_id, orders.trade_id, trades.market_id, orders.order_date, trades.trade_date, trades.trade_id, orders.order_type, trades.quantity, trades.asset_id, orders.order_id, trades.price FROM trades JOIN orders ON trades.trade_id = orders.trade_id ORDER BY trades.trade_date ASC LIMIT 100
2025-03-18 17:47:32,821 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:47:32] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:47:43,229 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 17:47:43,229 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 17:47:43,229 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 17:47:43,229 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 17:47:43,229 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-18 17:47:43,229 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 17:47:43,229 - query_processor - INFO - Generated middle value SQL: SELECT price_history.open_price, assets.broker_id, assets.asset_id, price_history.close_price, price_history.price_id, price_history.price_date, assets.asset_type, price_history.asset_id, assets.name FROM assets JOIN price_history ON assets.asset_id = price_history.asset_id ORDER BY price_history.price_id LIMIT 4, 3
2025-03-18 17:47:43,236 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:47:43] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:55:54,290 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 17:55:54,291 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 17:55:54,291 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 17:55:54,291 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 17:55:54,291 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 17:55:54,292 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 17:55:54,292 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 17:55:54,294 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 17:55:55,779 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 17:55:55,781 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 17:55:55,783 - intent_processor - INFO - Loaded original intent examples
2025-03-18 17:55:55,783 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 17:55:55,783 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 17:55:55,787 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 17:55:55,787 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 17:55:55,787 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 17:55:55,791 - __main__ - INFO - All components initialized successfully
2025-03-18 17:55:57,854 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 17:55:57,854 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 17:55:57,857 - __main__ - INFO - Training API routes added successfully
2025-03-18 17:55:57,857 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 17:55:57,875 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 17:55:57,875 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 17:55:57,879 - werkzeug - INFO -  * Restarting with stat
2025-03-18 17:56:05,409 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 17:56:05,409 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 17:56:05,409 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 17:56:05,409 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 17:56:05,409 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 17:56:05,409 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 17:56:05,409 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 17:56:05,409 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 17:56:07,788 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 17:56:07,791 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 17:56:07,793 - intent_processor - INFO - Loaded original intent examples
2025-03-18 17:56:07,793 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 17:56:07,793 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 17:56:07,796 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 17:56:07,796 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 17:56:07,796 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 17:56:07,796 - __main__ - INFO - All components initialized successfully
2025-03-18 17:56:09,856 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 17:56:09,856 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 17:56:09,860 - __main__ - INFO - Training API routes added successfully
2025-03-18 17:56:09,860 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 17:56:09,870 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 17:56:09,878 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 17:56:09,919 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:56:09] "GET / HTTP/1.1" 200 -
2025-03-18 17:56:10,092 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:56:10] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 17:56:10,108 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:56:10] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 17:56:10,108 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:56:10] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 17:56:24,980 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 17:56:24,980 - quick_intent_merger - INFO - Pattern matches: ['\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 17:56:24,980 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 17:56:24,980 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 17:56:24,980 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_highest, Parent intent: database_query_comparative
2025-03-18 17:56:24,980 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 17:56:24,980 - query_processor - INFO - Generated generic SQL: SELECT traders.registration_date, accounts.trader_id, accounts.account_id, trades.asset_id, trades.price, traders.name, trades.trader_id, traders.trader_id, trades.trade_id, trades.market_id, accounts.account_type, trades.quantity, accounts.creation_date, trades.trade_date FROM traders JOIN accounts ON traders.trader_id = accounts.trader_id JOIN trades ON traders.trader_id = trades.trader_id ORDER BY accounts.balance DESC LIMIT 10
2025-03-18 17:56:24,989 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:56:24] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:56:31,459 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 17:56:31,459 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 17:56:31,459 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 17:56:31,459 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 17:56:31,459 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-18 17:56:31,459 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 17:56:31,459 - query_processor - INFO - Generated generic SQL: SELECT price_history.price_id, price_history.price_date, price_history.asset_id, orders.trade_id, assets.asset_type, assets.broker_id, assets.asset_id, price_history.open_price, orders.order_type, price_history.close_price, orders.order_id, assets.name, orders.order_date FROM orders JOIN trades ON orders.trade_id = trades.trade_id JOIN assets ON trades.asset_id = assets.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id ORDER BY orders.order_date DESC LIMIT 100
2025-03-18 17:56:31,468 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:56:31] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:56:36,237 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 0.7462316155433655
2025-03-18 17:56:36,237 - quick_intent_merger - INFO - Pattern matches: ['\\b(lowest|minimum|least|bottom|smallest|cheapest|worst)', '\\b(count|how many|number of|total number)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 17:56:36,237 - quick_intent_merger - INFO - Low ML confidence (0.7462316155433655). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 17:56:36,237 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 17:56:36,237 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 17:56:36,237 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_lowest, Parent intent: database_query_comparative
2025-03-18 17:56:36,237 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 0.9
2025-03-18 17:56:36,237 - query_processor - INFO - Generated aggregation SQL: SELECT traders.trader_id, traders.name, traders.registration_date, COUNT(transactions.transaction_id) as transaction_count FROM traders JOIN accounts ON transactions.account_id = accounts.account_id JOIN traders ON accounts.trader_id = traders.trader_id JOIN trades ON traders.trader_id = trades.trader_id GROUP BY traders.trader_id, traders.name ORDER BY transaction_count ASC LIMIT 10
2025-03-18 17:56:36,245 - database_connector - ERROR - Error executing query: 1066 (42000): Not unique table/alias: 'traders'
2025-03-18 17:56:36,245 - query_processor - INFO - No results returned from database
2025-03-18 17:56:36,245 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:56:36] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:56:48,347 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 17:56:48,347 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 17:56:48,347 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 17:56:48,347 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 17:56:48,347 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_ascending, Parent intent: database_query_sort
2025-03-18 17:56:48,347 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 17:56:48,347 - query_processor - INFO - Generated generic SQL: SELECT orders.trade_id, trades.price, trades.asset_id, trades.trader_id, trades.trade_id, trades.market_id, orders.order_type, trades.quantity, orders.order_id, trades.trade_date, orders.order_date FROM orders JOIN trades ON orders.trade_id = trades.trade_id ORDER BY orders.order_date ASC LIMIT 100
2025-03-18 17:56:48,347 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:56:48] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 17:56:54,483 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 17:56:54,483 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 17:56:54,483 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 17:56:54,483 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 17:56:54,483 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-18 17:56:54,483 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 17:56:54,491 - query_processor - INFO - Generated middle value SQL: SELECT price_history.price_id, price_history.price_date, price_history.asset_id, assets.asset_type, assets.broker_id, assets.asset_id, price_history.open_price, price_history.close_price, assets.name FROM price_history JOIN assets ON price_history.asset_id = assets.asset_id ORDER BY price_history.price_id LIMIT 4, 3
2025-03-18 17:56:54,500 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 17:56:54] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 18:04:36,310 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 18:04:36,310 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 18:04:36,310 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 18:04:36,311 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 18:04:36,311 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 18:04:36,311 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 18:04:36,311 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 18:04:36,312 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 18:04:37,359 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 18:04:37,360 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 18:04:37,361 - intent_processor - INFO - Loaded original intent examples
2025-03-18 18:04:37,362 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 18:04:37,362 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 18:04:37,363 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 18:04:37,363 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 18:04:37,363 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 18:04:37,366 - __main__ - INFO - All components initialized successfully
2025-03-18 18:04:39,413 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 18:04:39,413 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 18:04:39,415 - __main__ - INFO - Training API routes added successfully
2025-03-18 18:04:39,415 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 18:04:39,431 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-18 18:04:39,431 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-18 18:04:39,433 - werkzeug - INFO -  * Restarting with stat
2025-03-18 18:04:43,780 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-18 18:04:43,781 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-18 18:04:43,781 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-18 18:04:43,781 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-18 18:04:43,781 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-18 18:04:43,781 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-18 18:04:43,782 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-18 18:04:43,782 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-18 18:04:45,391 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-18 18:04:45,391 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-18 18:04:45,393 - intent_processor - INFO - Loaded original intent examples
2025-03-18 18:04:45,393 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-18 18:04:45,393 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-18 18:04:45,394 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-18 18:04:45,394 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-18 18:04:45,395 - __main__ - INFO - Speech recognition initialized successfully
2025-03-18 18:04:45,397 - __main__ - INFO - All components initialized successfully
2025-03-18 18:04:47,452 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-18 18:04:47,452 - __main__ - INFO - Initializing speech recognition routes
2025-03-18 18:04:47,454 - __main__ - INFO - Training API routes added successfully
2025-03-18 18:04:47,454 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-18 18:04:47,461 - werkzeug - WARNING -  * Debugger is active!
2025-03-18 18:04:47,464 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-18 18:04:47,484 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 18:04:47] "GET / HTTP/1.1" 200 -
2025-03-18 18:04:47,568 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 18:04:47] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-18 18:04:47,568 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 18:04:47] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-18 18:04:47,572 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 18:04:47] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-18 18:04:53,343 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 0.7462316155433655
2025-03-18 18:04:53,343 - quick_intent_merger - INFO - Pattern matches: ['\\b(lowest|minimum|least|bottom|smallest|cheapest|worst)', '\\b(count|how many|number of|total number)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 18:04:53,343 - quick_intent_merger - INFO - Low ML confidence (0.7462316155433655). Using pattern match: {'intent': 'database_query_comparative', 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 18:04:53,343 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 18:04:53,343 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 0.9, 'sub_intent': 'database_query_comparative_lowest'}
2025-03-18 18:04:53,343 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_lowest, Parent intent: database_query_comparative
2025-03-18 18:04:53,343 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 0.9
2025-03-18 18:04:53,344 - query_processor - INFO - Generated aggregation SQL: SELECT traders.trader_id, traders.name, traders.registration_date, COUNT(transactions.transaction_id) as transaction_count FROM traders JOIN accounts ON traders.trader_id = accounts.trader_id JOIN transactions ON accounts.account_id = transactions.account_id JOIN trades ON traders.trader_id = trades.trader_id GROUP BY traders.trader_id, traders.name ORDER BY transaction_count ASC LIMIT 10
2025-03-18 18:04:53,347 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 18:04:53] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 18:05:07,533 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 18:05:07,533 - quick_intent_merger - INFO - Pattern matches: ['\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 18:05:07,533 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 18:05:07,533 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-18 18:05:07,534 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_highest, Parent intent: database_query_comparative
2025-03-18 18:05:07,534 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 18:05:07,535 - query_processor - INFO - Generated generic SQL: SELECT accounts.trader_id, traders.name, trades.trader_id, traders.registration_date, accounts.account_id, accounts.account_type, trades.quantity, trades.price, trades.market_id, traders.trader_id, accounts.creation_date, trades.asset_id, trades.trade_id, trades.trade_date FROM traders JOIN accounts ON traders.trader_id = accounts.trader_id JOIN trades ON traders.trader_id = trades.trader_id ORDER BY accounts.balance DESC LIMIT 10
2025-03-18 18:05:07,538 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 18:05:07] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 18:05:15,943 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 18:05:15,945 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 18:05:15,945 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 18:05:15,945 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-18 18:05:15,945 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-18 18:05:15,945 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 18:05:15,945 - query_processor - INFO - Generated generic SQL: SELECT price_history.price_date, price_history.close_price, orders.order_type, price_history.asset_id, orders.order_id, assets.asset_id, assets.name, assets.asset_type, orders.trade_id, assets.broker_id, price_history.price_id, orders.order_date, price_history.open_price FROM orders JOIN trades ON orders.trade_id = trades.trade_id JOIN assets ON trades.asset_id = assets.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id ORDER BY orders.order_date DESC LIMIT 100
2025-03-18 18:05:15,949 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 18:05:15] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 18:05:23,696 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-18 18:05:23,696 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(ascending|asc|low to high|smallest to largest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-18 18:05:23,696 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 18:05:23,696 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_ascending', 'sub_confidence': 0.9}
2025-03-18 18:05:23,696 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_ascending, Parent intent: database_query_sort
2025-03-18 18:05:23,696 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-18 18:05:23,697 - query_processor - INFO - Generated generic SQL: SELECT orders.order_type, orders.order_id, trades.trader_id, trades.quantity, orders.trade_id, trades.price, trades.market_id, orders.order_date, trades.asset_id, trades.trade_id, trades.trade_date FROM trades JOIN orders ON trades.trade_id = orders.trade_id ORDER BY trades.trade_date ASC LIMIT 100
2025-03-18 18:05:23,700 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 18:05:23] "POST /api/chat HTTP/1.1" 200 -
2025-03-18 18:05:32,120 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-18 18:05:32,120 - quick_intent_merger - INFO - Pattern matches: ['\\b(median|middle|average|mid|center|mean)', '\\b(where|with|having|that have|filter)\\b']
2025-03-18 18:05:32,120 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 18:05:32,120 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_middle', 'sub_confidence': 0.9}
2025-03-18 18:05:32,120 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_middle, Parent intent: database_query_comparative
2025-03-18 18:05:32,120 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-18 18:05:32,122 - query_processor - INFO - Generated middle value SQL: SELECT price_history.price_date, price_history.close_price, price_history.asset_id, assets.asset_id, assets.asset_type, assets.name, assets.broker_id, price_history.price_id, price_history.open_price FROM assets JOIN price_history ON assets.asset_id = price_history.asset_id ORDER BY price_history.price_id LIMIT 4, 3
2025-03-18 18:05:32,124 - werkzeug - INFO - 127.0.0.1 - - [18/Mar/2025 18:05:32] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 10:55:26,396 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 10:55:26,406 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 10:55:26,407 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 10:55:26,408 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 10:55:26,408 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 10:55:26,408 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 10:55:26,408 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 10:55:26,410 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 10:55:29,903 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 10:55:29,905 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 10:55:29,907 - intent_processor - INFO - Loaded original intent examples
2025-03-21 10:55:29,907 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 10:55:29,907 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 10:55:29,910 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 10:55:29,910 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 10:55:29,910 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 10:55:29,912 - __main__ - INFO - All components initialized successfully
2025-03-21 10:55:31,992 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 10:55:31,992 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 10:55:31,994 - __main__ - INFO - Training API routes added successfully
2025-03-21 10:55:31,994 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 10:55:32,021 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-21 10:55:32,022 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-21 10:55:32,026 - werkzeug - INFO -  * Restarting with stat
2025-03-21 10:55:38,396 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 10:55:38,396 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 10:55:38,396 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 10:55:38,397 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 10:55:38,397 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 10:55:38,399 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 10:55:38,399 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 10:55:38,400 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 10:55:43,765 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 10:55:43,767 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 10:55:43,769 - intent_processor - INFO - Loaded original intent examples
2025-03-21 10:55:43,769 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 10:55:43,769 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 10:55:43,773 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 10:55:43,773 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 10:55:43,773 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 10:55:43,777 - __main__ - INFO - All components initialized successfully
2025-03-21 10:55:45,819 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 10:55:45,819 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 10:55:45,827 - __main__ - INFO - Training API routes added successfully
2025-03-21 10:55:45,827 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 10:55:45,837 - werkzeug - WARNING -  * Debugger is active!
2025-03-21 10:55:45,844 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-21 10:55:45,906 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:55:45] "GET / HTTP/1.1" 200 -
2025-03-21 10:55:46,129 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:55:46] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-21 10:55:46,129 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:55:46] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-21 10:55:46,132 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:55:46] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-21 10:55:46,319 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:55:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-21 10:56:09,663 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 1.0
2025-03-21 10:56:09,663 - quick_intent_merger - INFO - Pattern matches: ['\\b(all details|more details|detailed|complete|all information|everything about|all data|show all|all fields|full record)']
2025-03-21 10:56:09,663 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 1.0}
2025-03-21 10:56:09,663 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 1.0}
2025-03-21 10:56:09,663 - query_processor - INFO - Processing query with intent: database_query_detailed, confidence: 1.0
2025-03-21 10:56:09,671 - query_processor - WARNING - No tables identified in query
2025-03-21 10:56:09,671 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:56:09] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 10:57:17,403 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 10:57:17,403 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 10:57:17,403 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 10:57:17,403 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 10:57:17,403 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 10:57:17,404 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 10:57:17,404 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 10:57:17,405 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 10:57:18,437 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 10:57:18,438 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 10:57:18,439 - intent_processor - INFO - Loaded original intent examples
2025-03-21 10:57:18,439 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 10:57:18,439 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 10:57:18,441 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 10:57:18,441 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 10:57:18,441 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 10:57:18,444 - __main__ - INFO - All components initialized successfully
2025-03-21 10:57:20,511 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 10:57:20,511 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 10:57:20,515 - __main__ - INFO - Training API routes added successfully
2025-03-21 10:57:20,515 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 10:57:20,540 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-21 10:57:20,540 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-21 10:57:20,545 - werkzeug - INFO -  * Restarting with stat
2025-03-21 10:57:26,785 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 10:57:26,786 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 10:57:26,786 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 10:57:26,786 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 10:57:26,786 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 10:57:26,787 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 10:57:26,787 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 10:57:26,787 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 10:57:28,917 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 10:57:28,926 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 10:57:28,926 - intent_processor - INFO - Loaded original intent examples
2025-03-21 10:57:28,926 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 10:57:28,926 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 10:57:28,926 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 10:57:28,926 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 10:57:28,926 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 10:57:28,934 - __main__ - INFO - All components initialized successfully
2025-03-21 10:57:30,985 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 10:57:30,985 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 10:57:30,988 - __main__ - INFO - Training API routes added successfully
2025-03-21 10:57:30,988 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 10:57:31,001 - werkzeug - WARNING -  * Debugger is active!
2025-03-21 10:57:31,013 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-21 10:57:31,053 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:57:31] "GET / HTTP/1.1" 200 -
2025-03-21 10:57:31,211 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:57:31] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-21 10:57:31,225 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:57:31] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-21 10:57:31,233 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:57:31] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-21 10:58:34,208 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 1.0
2025-03-21 10:58:34,208 - quick_intent_merger - INFO - Pattern matches: ['\\b(all details|more details|detailed|complete|all information|everything about|all data|show all|all fields|full record)']
2025-03-21 10:58:34,208 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 1.0}
2025-03-21 10:58:34,208 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 1.0}
2025-03-21 10:58:34,208 - query_processor - INFO - Processing query with intent: database_query_detailed, confidence: 1.0
2025-03-21 10:58:34,211 - query_processor - WARNING - No tables identified in query
2025-03-21 10:58:34,211 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:58:34] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 10:58:37,559 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 1.0
2025-03-21 10:58:37,559 - quick_intent_merger - INFO - Pattern matches: ['\\b(all details|more details|detailed|complete|all information|everything about|all data|show all|all fields|full record)']
2025-03-21 10:58:37,559 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 1.0}
2025-03-21 10:58:37,559 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 1.0}
2025-03-21 10:58:37,559 - query_processor - INFO - Processing query with intent: database_query_detailed, confidence: 1.0
2025-03-21 10:58:37,559 - query_processor - WARNING - No tables identified in query
2025-03-21 10:58:37,559 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 10:58:37] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 11:10:42,714 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 11:10:42,715 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 11:10:42,715 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 11:10:42,715 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 11:10:42,715 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 11:10:42,716 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 11:10:42,716 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 11:10:42,718 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 11:10:43,728 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 11:10:43,729 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 11:10:43,730 - intent_processor - INFO - Loaded original intent examples
2025-03-21 11:10:43,730 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 11:10:43,730 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 11:10:43,732 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 11:10:43,733 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 11:10:43,733 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 11:10:43,735 - __main__ - INFO - All components initialized successfully
2025-03-21 11:10:45,800 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 11:10:45,800 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 11:10:45,803 - __main__ - INFO - Training API routes added successfully
2025-03-21 11:10:45,803 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 11:10:45,819 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-21 11:10:45,819 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-21 11:10:45,824 - werkzeug - INFO -  * Restarting with stat
2025-03-21 11:10:52,136 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 11:10:52,136 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 11:10:52,137 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 11:10:52,137 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 11:10:52,137 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 11:10:52,137 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 11:10:52,137 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 11:10:52,139 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 11:10:54,022 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 11:10:54,023 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 11:10:54,024 - intent_processor - INFO - Loaded original intent examples
2025-03-21 11:10:54,024 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 11:10:54,024 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 11:10:54,027 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 11:10:54,027 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 11:10:54,027 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 11:10:54,031 - __main__ - INFO - All components initialized successfully
2025-03-21 11:10:56,091 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 11:10:56,091 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 11:10:56,093 - __main__ - INFO - Training API routes added successfully
2025-03-21 11:10:56,093 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 11:10:56,101 - werkzeug - WARNING -  * Debugger is active!
2025-03-21 11:10:56,105 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-21 11:10:56,132 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:10:56] "GET / HTTP/1.1" 200 -
2025-03-21 11:10:56,229 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:10:56] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-21 11:10:56,239 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:10:56] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-21 11:10:56,244 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:10:56] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-21 11:11:13,394 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.6984145045280457
2025-03-21 11:11:13,394 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.6984145045280457}
2025-03-21 11:11:13,394 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.6984145045280457}
2025-03-21 11:11:13,394 - query_processor - INFO - Extracted entity: 'brokerone' from table: 'brokers'
2025-03-21 11:11:13,394 - query_processor - INFO - Executing entity query: SELECT * FROM brokers WHERE LOWER(name) LIKE %s with params ('%brokerone%',)
2025-03-21 11:11:13,427 - query_processor - INFO - Executing related query: SELECT * FROM assets WHERE broker_id = 1
2025-03-21 11:11:13,430 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:11:13] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 11:13:24,631 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9560556411743164
2025-03-21 11:13:24,631 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9560556411743164}
2025-03-21 11:13:24,631 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9560556411743164}
2025-03-21 11:13:24,634 - query_processor - INFO - Extracted entity: 'stock a' from table: 'assets'
2025-03-21 11:13:24,634 - query_processor - INFO - Executing entity query: SELECT * FROM assets WHERE LOWER(name) LIKE %s with params ('%stock a%',)
2025-03-21 11:13:24,634 - query_processor - INFO - Executing related query: SELECT * FROM price_history WHERE asset_id = 1
2025-03-21 11:13:24,645 - query_processor - INFO - Executing related query: SELECT * FROM trades WHERE asset_id = 1
2025-03-21 11:13:24,647 - query_processor - INFO - Executing related query: SELECT b.* FROM brokers b JOIN assets a ON b.broker_id = a.broker_id WHERE a.asset_id = 1
2025-03-21 11:13:24,651 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:13:24] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 11:13:40,656 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9999940395355225
2025-03-21 11:13:40,656 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9999940395355225}
2025-03-21 11:13:40,656 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9999940395355225}
2025-03-21 11:13:40,656 - query_processor - INFO - Extracted entity: 'on alice' from table: 'None'
2025-03-21 11:13:40,656 - query_processor - WARNING - Could not extract entity info from query: Show me information on Alice Smith
2025-03-21 11:13:40,656 - query_processor - INFO - Processing query with intent: database_query_detailed, confidence: 0.9999940395355225
2025-03-21 11:13:40,664 - query_processor - WARNING - No tables identified in query
2025-03-21 11:13:40,664 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:13:40] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 11:13:53,058 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9957422614097595
2025-03-21 11:13:53,058 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9957422614097595}
2025-03-21 11:13:53,058 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9957422614097595}
2025-03-21 11:13:53,058 - query_processor - INFO - Extracted entity: 'nasdaq' from table: 'None'
2025-03-21 11:13:53,059 - query_processor - WARNING - Could not extract entity info from query: Find details about NASDAQ
2025-03-21 11:13:53,059 - query_processor - INFO - Processing query with intent: database_query_detailed, confidence: 0.9957422614097595
2025-03-21 11:13:53,060 - query_processor - WARNING - No tables identified in query
2025-03-21 11:13:53,060 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:13:53] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 11:14:00,671 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9788636565208435
2025-03-21 11:14:00,673 - quick_intent_merger - INFO - Pattern matches: ['\\b(all details|more details|detailed|complete|all information|everything about|all data|show all|all fields|full record)']
2025-03-21 11:14:00,673 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9788636565208435}
2025-03-21 11:14:00,673 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9788636565208435}
2025-03-21 11:14:00,673 - query_processor - INFO - Extracted entity: 'about bond' from table: 'assets'
2025-03-21 11:14:00,673 - query_processor - INFO - Executing entity query: SELECT * FROM assets WHERE LOWER(name) LIKE %s with params ('%about bond%',)
2025-03-21 11:14:00,673 - query_processor - INFO - Trying more general entity query: SELECT * FROM assets WHERE LOWER(name) LIKE %s with params ('%about%',)
2025-03-21 11:14:00,673 - query_processor - WARNING - No entity found for about bond in assets
2025-03-21 11:14:00,673 - query_processor - INFO - Processing query with intent: database_query_detailed, confidence: 0.9788636565208435
2025-03-21 11:14:00,673 - query_processor - INFO - Generated generic SQL: SELECT assets.asset_id, assets.broker_id, assets.name, assets.asset_type FROM assets LIMIT 100
2025-03-21 11:14:00,678 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:14:00] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 11:31:53,734 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 11:31:53,734 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 11:31:53,734 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 11:31:53,735 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 11:31:53,735 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 11:31:53,735 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 11:31:53,735 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 11:31:53,736 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 11:31:54,790 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 11:31:54,791 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 11:31:54,793 - intent_processor - INFO - Loaded original intent examples
2025-03-21 11:31:54,793 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 11:31:54,793 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 11:31:54,797 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 11:31:54,797 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 11:31:54,797 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 11:31:54,799 - __main__ - INFO - All components initialized successfully
2025-03-21 11:31:56,856 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 11:31:56,856 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 11:31:56,858 - __main__ - INFO - Training API routes added successfully
2025-03-21 11:31:56,858 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 11:31:56,874 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-21 11:31:56,875 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-21 11:31:56,878 - werkzeug - INFO -  * Restarting with stat
2025-03-21 11:32:03,037 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 11:32:03,037 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 11:32:03,038 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 11:32:03,038 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 11:32:03,038 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 11:32:03,038 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 11:32:03,038 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 11:32:03,039 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 11:32:04,960 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 11:32:04,962 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 11:32:04,964 - intent_processor - INFO - Loaded original intent examples
2025-03-21 11:32:04,964 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 11:32:04,964 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 11:32:04,968 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 11:32:04,968 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 11:32:04,968 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 11:32:04,968 - __main__ - INFO - All components initialized successfully
2025-03-21 11:32:07,019 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 11:32:07,019 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 11:32:07,027 - __main__ - INFO - Training API routes added successfully
2025-03-21 11:32:07,027 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 11:32:07,035 - werkzeug - WARNING -  * Debugger is active!
2025-03-21 11:32:07,049 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-21 11:32:07,100 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:32:07] "GET / HTTP/1.1" 200 -
2025-03-21 11:32:07,256 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:32:07] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-21 11:32:07,276 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:32:07] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-21 11:32:07,282 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:32:07] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-21 11:32:44,256 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.6984145045280457
2025-03-21 11:32:44,256 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.6984145045280457}
2025-03-21 11:32:44,256 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.6984145045280457}
2025-03-21 11:32:44,274 - query_processor - INFO - Found entity 'BrokerOne' in table 'brokers'
2025-03-21 11:32:44,274 - query_processor - INFO - Extracted entity: 'BrokerOne' from table: 'brokers'
2025-03-21 11:32:44,274 - query_processor - INFO - Executing entity query: SELECT * FROM brokers WHERE LOWER(name) LIKE %s with params ('%brokerone%',)
2025-03-21 11:32:44,274 - query_processor - INFO - Getting related entities for brokers with ID 1
2025-03-21 11:32:44,274 - query_processor - INFO - Checking for references in assets: SELECT * FROM assets WHERE broker_id = 1 LIMIT 10
2025-03-21 11:32:44,274 - query_processor - INFO - Found 1 related records in assets
2025-03-21 11:32:44,274 - model.chatbot_engine - ERROR - Error processing entity query: 'QueryProcessor' object has no attribute '_process_entity_result'
2025-03-21 11:32:44,274 - query_processor - INFO - Processing query with intent: database_query_detailed, confidence: 0.6984145045280457
2025-03-21 11:32:44,281 - query_processor - WARNING - No tables identified in the query
2025-03-21 11:32:44,281 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:32:44] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 11:34:01,863 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 11:34:01,864 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 11:34:01,864 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 11:34:01,864 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 11:34:01,864 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 11:34:01,864 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 11:34:01,864 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 11:34:01,865 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 11:34:02,971 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 11:34:02,972 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 11:34:02,973 - intent_processor - INFO - Loaded original intent examples
2025-03-21 11:34:02,973 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 11:34:02,973 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 11:34:02,975 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 11:34:02,975 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 11:34:02,975 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 11:34:02,978 - __main__ - INFO - All components initialized successfully
2025-03-21 11:34:05,043 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 11:34:05,043 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 11:34:05,047 - __main__ - INFO - Training API routes added successfully
2025-03-21 11:34:05,047 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 11:34:05,062 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-21 11:34:05,062 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-21 11:34:05,066 - werkzeug - INFO -  * Restarting with stat
2025-03-21 11:34:11,424 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 11:34:11,424 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 11:34:11,424 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 11:34:11,425 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 11:34:11,425 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 11:34:11,425 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 11:34:11,425 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 11:34:11,426 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 11:34:13,363 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 11:34:13,364 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 11:34:13,366 - intent_processor - INFO - Loaded original intent examples
2025-03-21 11:34:13,366 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 11:34:13,366 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 11:34:13,371 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 11:34:13,371 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 11:34:13,372 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 11:34:13,376 - __main__ - INFO - All components initialized successfully
2025-03-21 11:34:15,410 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 11:34:15,410 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 11:34:15,412 - __main__ - INFO - Training API routes added successfully
2025-03-21 11:34:15,412 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 11:34:15,421 - werkzeug - WARNING -  * Debugger is active!
2025-03-21 11:34:15,425 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-21 11:34:15,450 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:34:15] "GET / HTTP/1.1" 200 -
2025-03-21 11:34:15,539 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:34:15] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-21 11:34:15,546 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:34:15] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-21 11:34:15,548 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:34:15] "[36mGET /static/js/script.js HTTP/1.1[0m" 304 -
2025-03-21 11:34:35,676 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.6984145045280457
2025-03-21 11:34:35,676 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.6984145045280457}
2025-03-21 11:34:35,676 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.6984145045280457}
2025-03-21 11:34:35,679 - query_processor - INFO - Found entity 'BrokerOne' in table 'brokers'
2025-03-21 11:34:35,679 - query_processor - INFO - Extracted entity: 'BrokerOne' from table: 'brokers'
2025-03-21 11:34:35,679 - query_processor - INFO - Executing entity query: SELECT * FROM brokers WHERE LOWER(name) LIKE %s with params ('%brokerone%',)
2025-03-21 11:34:35,679 - query_processor - INFO - Getting related entities for brokers with ID 1
2025-03-21 11:34:35,679 - query_processor - INFO - Checking for references in assets: SELECT * FROM assets WHERE broker_id = 1 LIMIT 10
2025-03-21 11:34:35,679 - query_processor - INFO - Found 1 related records in assets
2025-03-21 11:34:35,679 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:34:35] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 11:34:47,748 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9560556411743164
2025-03-21 11:34:47,748 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9560556411743164}
2025-03-21 11:34:47,748 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9560556411743164}
2025-03-21 11:34:47,749 - query_processor - INFO - Found entity 'Stock A' in table 'assets'
2025-03-21 11:34:47,749 - query_processor - INFO - Extracted entity: 'Stock A' from table: 'assets'
2025-03-21 11:34:47,749 - query_processor - INFO - Executing entity query: SELECT * FROM assets WHERE LOWER(name) LIKE %s with params ('%stock a%',)
2025-03-21 11:34:47,750 - query_processor - INFO - Getting related entities for assets with ID 1
2025-03-21 11:34:47,750 - query_processor - INFO - Checking for references in trades: SELECT * FROM trades WHERE asset_id = 1 LIMIT 10
2025-03-21 11:34:47,751 - query_processor - INFO - Found 1 related records in trades
2025-03-21 11:34:47,752 - query_processor - INFO - Checking for references in price_history: SELECT * FROM price_history WHERE asset_id = 1 LIMIT 10
2025-03-21 11:34:47,753 - query_processor - INFO - Found 1 related records in price_history
2025-03-21 11:34:47,754 - query_processor - INFO - Looking up reference: SELECT * FROM brokers WHERE broker_id = 1
2025-03-21 11:34:47,755 - query_processor - INFO - Found referenced brokers record
2025-03-21 11:34:47,756 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:34:47] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 11:34:53,988 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9999940395355225
2025-03-21 11:34:53,988 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9999940395355225}
2025-03-21 11:34:53,988 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9999940395355225}
2025-03-21 11:34:54,032 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,035 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,037 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,037 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,038 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,038 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,038 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,038 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,038 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,047 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,048 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,048 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:34:54,053 - query_processor - INFO - Found entity 'Alice Smith' in table 'traders'
2025-03-21 11:34:54,054 - query_processor - INFO - Extracted entity: 'Alice Smith' from table: 'traders'
2025-03-21 11:34:54,054 - query_processor - INFO - Executing entity query: SELECT * FROM traders WHERE LOWER(name) LIKE %s with params ('%alice smith%',)
2025-03-21 11:34:54,055 - query_processor - INFO - Getting related entities for traders with ID 1
2025-03-21 11:34:54,055 - query_processor - INFO - Checking for references in trades: SELECT * FROM trades WHERE trader_id = 1 LIMIT 10
2025-03-21 11:34:54,055 - query_processor - INFO - Found 1 related records in trades
2025-03-21 11:34:54,055 - query_processor - INFO - Checking for references in accounts: SELECT * FROM accounts WHERE trader_id = 1 LIMIT 10
2025-03-21 11:34:54,055 - query_processor - INFO - Found 1 related records in accounts
2025-03-21 11:34:54,055 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:34:54] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 11:35:02,362 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9957422614097595
2025-03-21 11:35:02,362 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9957422614097595}
2025-03-21 11:35:02,362 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9957422614097595}
2025-03-21 11:35:02,373 - query_processor - INFO - Found entity 'NASDAQ' in table 'markets'
2025-03-21 11:35:02,373 - query_processor - INFO - Extracted entity: 'NASDAQ' from table: 'markets'
2025-03-21 11:35:02,373 - query_processor - INFO - Executing entity query: SELECT * FROM markets WHERE LOWER(name) LIKE %s with params ('%nasdaq%',)
2025-03-21 11:35:02,373 - query_processor - INFO - Getting related entities for markets with ID 2
2025-03-21 11:35:02,373 - query_processor - INFO - Checking for references in trades: SELECT * FROM trades WHERE market_id = 2 LIMIT 10
2025-03-21 11:35:02,384 - query_processor - INFO - Found 1 related records in trades
2025-03-21 11:35:02,384 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:35:02] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 11:35:07,946 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9788636565208435
2025-03-21 11:35:07,946 - quick_intent_merger - INFO - Pattern matches: ['\\b(all details|more details|detailed|complete|all information|everything about|all data|show all|all fields|full record)']
2025-03-21 11:35:07,946 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9788636565208435}
2025-03-21 11:35:07,946 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9788636565208435}
2025-03-21 11:35:07,958 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:35:07,958 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:35:07,958 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:35:07,958 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:35:07,958 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:35:07,958 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 11:35:07,958 - query_processor - INFO - Found entity 'Bond X' in table 'assets'
2025-03-21 11:35:07,958 - query_processor - INFO - Extracted entity: 'Bond X' from table: 'assets'
2025-03-21 11:35:07,958 - query_processor - INFO - Executing entity query: SELECT * FROM assets WHERE LOWER(name) LIKE %s with params ('%bond x%',)
2025-03-21 11:35:07,958 - query_processor - INFO - Getting related entities for assets with ID 3
2025-03-21 11:35:07,958 - query_processor - INFO - Checking for references in trades: SELECT * FROM trades WHERE asset_id = 3 LIMIT 10
2025-03-21 11:35:07,958 - query_processor - INFO - Found 1 related records in trades
2025-03-21 11:35:07,958 - query_processor - INFO - Checking for references in price_history: SELECT * FROM price_history WHERE asset_id = 3 LIMIT 10
2025-03-21 11:35:07,966 - query_processor - INFO - Found 1 related records in price_history
2025-03-21 11:35:07,966 - query_processor - INFO - Looking up reference: SELECT * FROM brokers WHERE broker_id = 3
2025-03-21 11:35:07,969 - query_processor - INFO - Found referenced brokers record
2025-03-21 11:35:07,969 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 11:35:07] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 12:34:06,775 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 12:34:06,775 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 12:34:06,775 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 12:34:06,776 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 12:34:06,776 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 12:34:06,776 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 12:34:06,776 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 12:34:06,778 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 12:34:07,761 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 12:34:07,762 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 12:34:07,763 - intent_processor - INFO - Loaded original intent examples
2025-03-21 12:34:07,763 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 12:34:07,764 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 12:34:07,766 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 12:34:07,766 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 12:34:07,766 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 12:34:07,768 - __main__ - INFO - All components initialized successfully
2025-03-21 12:34:09,833 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 12:34:09,833 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 12:34:09,836 - __main__ - INFO - Training API routes added successfully
2025-03-21 12:34:09,836 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 12:34:09,848 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-21 12:34:09,848 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-21 12:34:09,851 - werkzeug - INFO -  * Restarting with stat
2025-03-21 12:34:14,377 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 12:34:14,378 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 12:34:14,378 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 12:34:14,379 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 12:34:14,379 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 12:34:14,379 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 12:34:14,379 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 12:34:14,380 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 12:34:15,977 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 12:34:15,978 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 12:34:15,980 - intent_processor - INFO - Loaded original intent examples
2025-03-21 12:34:15,980 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 12:34:15,980 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 12:34:15,982 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 12:34:15,982 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 12:34:15,982 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 12:34:15,984 - __main__ - INFO - All components initialized successfully
2025-03-21 12:34:18,034 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 12:34:18,034 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 12:34:18,037 - __main__ - INFO - Training API routes added successfully
2025-03-21 12:34:18,037 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 12:34:18,048 - werkzeug - WARNING -  * Debugger is active!
2025-03-21 12:34:18,053 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-21 12:34:18,091 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:34:18] "GET / HTTP/1.1" 200 -
2025-03-21 12:34:18,242 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:34:18] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-21 12:34:18,255 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:34:18] "GET /static/js/script.js HTTP/1.1" 200 -
2025-03-21 12:34:18,268 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:34:18] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-21 12:34:26,283 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.6984145045280457
2025-03-21 12:34:26,284 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.6984145045280457}
2025-03-21 12:34:26,284 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.6984145045280457}
2025-03-21 12:34:26,290 - query_processor - INFO - Found entity 'BrokerOne' in table 'brokers'
2025-03-21 12:34:26,291 - query_processor - INFO - Extracted entity: 'BrokerOne' from table: 'brokers'
2025-03-21 12:34:26,291 - query_processor - INFO - Executing entity query: SELECT * FROM brokers WHERE LOWER(name) LIKE %s with params ('%brokerone%',)
2025-03-21 12:34:26,292 - query_processor - INFO - Getting related entities for brokers with ID 1
2025-03-21 12:34:26,292 - query_processor - INFO - Checking for references in assets: SELECT * FROM assets WHERE broker_id = 1 LIMIT 10
2025-03-21 12:34:26,293 - query_processor - INFO - Found 1 related records in assets
2025-03-21 12:34:26,294 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:34:26] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 12:39:29,142 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 12:39:29,142 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 12:39:29,143 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 12:39:29,143 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 12:39:29,143 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 12:39:29,144 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 12:39:29,144 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 12:39:29,145 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 12:39:31,822 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 12:39:31,823 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 12:39:31,824 - intent_processor - INFO - Loaded original intent examples
2025-03-21 12:39:31,824 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 12:39:31,824 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 12:39:31,826 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 12:39:31,827 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 12:39:31,827 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 12:39:31,829 - __main__ - INFO - All components initialized successfully
2025-03-21 12:39:33,889 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 12:39:33,889 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 12:39:33,891 - __main__ - INFO - Training API routes added successfully
2025-03-21 12:39:33,891 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 12:39:33,923 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-21 12:39:33,924 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-21 12:39:33,926 - werkzeug - INFO -  * Restarting with stat
2025-03-21 12:39:38,394 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 12:39:38,395 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 12:39:38,395 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 12:39:38,396 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 12:39:38,396 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 12:39:38,396 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 12:39:38,396 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 12:39:38,397 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 12:39:40,046 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 12:39:40,047 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 12:39:40,048 - intent_processor - INFO - Loaded original intent examples
2025-03-21 12:39:40,048 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 12:39:40,048 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 12:39:40,050 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 12:39:40,050 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 12:39:40,050 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 12:39:40,052 - __main__ - INFO - All components initialized successfully
2025-03-21 12:39:42,114 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 12:39:42,114 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 12:39:42,117 - __main__ - INFO - Training API routes added successfully
2025-03-21 12:39:42,117 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 12:39:42,130 - werkzeug - WARNING -  * Debugger is active!
2025-03-21 12:39:42,136 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-21 12:39:42,172 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:39:42] "GET / HTTP/1.1" 200 -
2025-03-21 12:39:42,316 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:39:42] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-21 12:39:42,357 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:39:42] "GET /static/js/script.js HTTP/1.1" 200 -
2025-03-21 12:39:42,357 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:39:42] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-21 12:39:50,679 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.6984145045280457
2025-03-21 12:39:50,679 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.6984145045280457}
2025-03-21 12:39:50,680 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.6984145045280457}
2025-03-21 12:39:50,685 - query_processor - INFO - Found entity 'BrokerOne' in table 'brokers'
2025-03-21 12:39:50,685 - query_processor - INFO - Extracted entity: 'BrokerOne' from table: 'brokers'
2025-03-21 12:39:50,685 - query_processor - INFO - Executing entity query: SELECT * FROM brokers WHERE LOWER(name) LIKE %s with params ('%brokerone%',)
2025-03-21 12:39:50,686 - query_processor - INFO - Getting related entities for brokers with ID 1
2025-03-21 12:39:50,686 - query_processor - INFO - Checking for references in assets: SELECT * FROM assets WHERE broker_id = 1 LIMIT 10
2025-03-21 12:39:50,687 - query_processor - INFO - Found 1 related records in assets
2025-03-21 12:39:50,688 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:39:50] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 12:40:04,220 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9560556411743164
2025-03-21 12:40:04,220 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9560556411743164}
2025-03-21 12:40:04,220 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9560556411743164}
2025-03-21 12:40:04,221 - query_processor - INFO - Found entity 'Stock A' in table 'assets'
2025-03-21 12:40:04,222 - query_processor - INFO - Extracted entity: 'Stock A' from table: 'assets'
2025-03-21 12:40:04,222 - query_processor - INFO - Executing entity query: SELECT * FROM assets WHERE LOWER(name) LIKE %s with params ('%stock a%',)
2025-03-21 12:40:04,222 - query_processor - INFO - Getting related entities for assets with ID 1
2025-03-21 12:40:04,222 - query_processor - INFO - Checking for references in trades: SELECT * FROM trades WHERE asset_id = 1 LIMIT 10
2025-03-21 12:40:04,224 - query_processor - INFO - Found 1 related records in trades
2025-03-21 12:40:04,224 - query_processor - INFO - Checking for references in price_history: SELECT * FROM price_history WHERE asset_id = 1 LIMIT 10
2025-03-21 12:40:04,225 - query_processor - INFO - Found 1 related records in price_history
2025-03-21 12:40:04,225 - query_processor - INFO - Looking up reference: SELECT * FROM brokers WHERE broker_id = 1
2025-03-21 12:40:04,226 - query_processor - INFO - Found referenced brokers record
2025-03-21 12:40:04,227 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:40:04] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 12:40:13,459 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9999940395355225
2025-03-21 12:40:13,459 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9999940395355225}
2025-03-21 12:40:13,459 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9999940395355225}
2025-03-21 12:40:13,465 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,466 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,466 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,467 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,468 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,469 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,475 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,476 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,476 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,477 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,478 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,478 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:13,480 - query_processor - INFO - Found entity 'Alice Smith' in table 'traders'
2025-03-21 12:40:13,481 - query_processor - INFO - Extracted entity: 'Alice Smith' from table: 'traders'
2025-03-21 12:40:13,481 - query_processor - INFO - Executing entity query: SELECT * FROM traders WHERE LOWER(name) LIKE %s with params ('%alice smith%',)
2025-03-21 12:40:13,481 - query_processor - INFO - Getting related entities for traders with ID 1
2025-03-21 12:40:13,482 - query_processor - INFO - Checking for references in trades: SELECT * FROM trades WHERE trader_id = 1 LIMIT 10
2025-03-21 12:40:13,482 - query_processor - INFO - Found 1 related records in trades
2025-03-21 12:40:13,482 - query_processor - INFO - Checking for references in accounts: SELECT * FROM accounts WHERE trader_id = 1 LIMIT 10
2025-03-21 12:40:13,483 - query_processor - INFO - Found 1 related records in accounts
2025-03-21 12:40:13,484 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:40:13] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 12:40:21,426 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9957422614097595
2025-03-21 12:40:21,426 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9957422614097595}
2025-03-21 12:40:21,426 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9957422614097595}
2025-03-21 12:40:21,431 - query_processor - INFO - Found entity 'NASDAQ' in table 'markets'
2025-03-21 12:40:21,431 - query_processor - INFO - Extracted entity: 'NASDAQ' from table: 'markets'
2025-03-21 12:40:21,431 - query_processor - INFO - Executing entity query: SELECT * FROM markets WHERE LOWER(name) LIKE %s with params ('%nasdaq%',)
2025-03-21 12:40:21,432 - query_processor - INFO - Getting related entities for markets with ID 2
2025-03-21 12:40:21,432 - query_processor - INFO - Checking for references in trades: SELECT * FROM trades WHERE market_id = 2 LIMIT 10
2025-03-21 12:40:21,433 - query_processor - INFO - Found 1 related records in trades
2025-03-21 12:40:21,435 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:40:21] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 12:40:28,189 - quick_intent_merger - INFO - Original ML classification: database_query_detailed with confidence 0.9788636565208435
2025-03-21 12:40:28,189 - quick_intent_merger - INFO - Pattern matches: ['\\b(all details|more details|detailed|complete|all information|everything about|all data|show all|all fields|full record)']
2025-03-21 12:40:28,189 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_detailed', 'confidence': 0.9788636565208435}
2025-03-21 12:40:28,189 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_detailed', 'confidence': 0.9788636565208435}
2025-03-21 12:40:28,196 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:28,196 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:28,197 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:28,198 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:28,198 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:28,199 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 12:40:28,200 - query_processor - INFO - Found entity 'Bond X' in table 'assets'
2025-03-21 12:40:28,200 - query_processor - INFO - Extracted entity: 'Bond X' from table: 'assets'
2025-03-21 12:40:28,200 - query_processor - INFO - Executing entity query: SELECT * FROM assets WHERE LOWER(name) LIKE %s with params ('%bond x%',)
2025-03-21 12:40:28,201 - query_processor - INFO - Getting related entities for assets with ID 3
2025-03-21 12:40:28,201 - query_processor - INFO - Checking for references in trades: SELECT * FROM trades WHERE asset_id = 3 LIMIT 10
2025-03-21 12:40:28,202 - query_processor - INFO - Found 1 related records in trades
2025-03-21 12:40:28,202 - query_processor - INFO - Checking for references in price_history: SELECT * FROM price_history WHERE asset_id = 3 LIMIT 10
2025-03-21 12:40:28,202 - query_processor - INFO - Found 1 related records in price_history
2025-03-21 12:40:28,203 - query_processor - INFO - Looking up reference: SELECT * FROM brokers WHERE broker_id = 3
2025-03-21 12:40:28,203 - query_processor - INFO - Found referenced brokers record
2025-03-21 12:40:28,204 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 12:40:28] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 14:12:46,333 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 14:12:46,333 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 14:12:46,334 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 14:12:46,334 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 14:12:46,334 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 14:12:46,334 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 14:12:46,334 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 14:12:46,335 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 14:12:47,447 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 14:12:47,448 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 14:12:47,449 - intent_processor - INFO - Loaded original intent examples
2025-03-21 14:12:47,449 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 14:12:47,449 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 14:12:47,453 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 14:12:47,453 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 14:12:47,453 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 14:12:47,455 - __main__ - INFO - All components initialized successfully
2025-03-21 14:12:49,515 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 14:12:49,516 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 14:12:49,519 - __main__ - INFO - Training API routes added successfully
2025-03-21 14:12:49,519 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 14:12:49,538 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.171:5000
2025-03-21 14:12:49,538 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-03-21 14:12:49,542 - werkzeug - INFO -  * Restarting with stat
2025-03-21 14:12:56,160 - encryption_manager - INFO - Homomorphic encryption context initialized
2025-03-21 14:12:56,160 - __main__ - INFO - Loading intent classifier model from models/intent_classifier
2025-03-21 14:12:56,160 - model.intent_classifier - INFO - Loading model from directory: models/intent_classifier
2025-03-21 14:12:56,161 - model.intent_classifier - INFO - Loaded model configuration from models/intent_classifier\model_config.json
2025-03-21 14:12:56,161 - model.intent_classifier - INFO - Configuration: vocab_size=10000, embedding_dim=150, max_sequence_length=50, use_post_processor=True
2025-03-21 14:12:56,161 - model.intent_classifier - INFO - Loaded 12 intent classes from models/intent_classifier\intent_classes.json
2025-03-21 14:12:56,161 - model.intent_classifier - INFO - Using intent classes: ['database_query_comparative', 'database_query_count', 'database_query_detailed', 'database_query_filter', 'database_query_list', 'database_query_recent', 'database_query_sensitive', 'database_query_sort', 'database_query_specific_id', 'goodbye', 'greeting', 'help']
2025-03-21 14:12:56,162 - model.intent_classifier - INFO - Loaded tokenizer from models/intent_classifier\tokenizer.json
2025-03-21 14:12:58,352 - model.intent_classifier - INFO - Loaded model from models/intent_classifier\model.h5
2025-03-21 14:12:58,353 - intent_processor - INFO - Loaded 5 intent mappings
2025-03-21 14:12:58,355 - intent_processor - INFO - Loaded original intent examples
2025-03-21 14:12:58,355 - model.intent_classifier - INFO - Initialized intent post-processor
2025-03-21 14:12:58,355 - model.intent_classifier - INFO - Model, tokenizer, and intent classes successfully loaded
2025-03-21 14:12:58,357 - model.chatbot_engine - INFO - Intent merger initialized
2025-03-21 14:12:58,357 - speech.speech_recognition - INFO - Secure speech recognition module initialized
2025-03-21 14:12:58,357 - __main__ - INFO - Speech recognition initialized successfully
2025-03-21 14:12:58,362 - __main__ - INFO - All components initialized successfully
2025-03-21 14:13:00,418 - database_connector - INFO - Connected to MySQL database: fm_database
2025-03-21 14:13:00,418 - __main__ - INFO - Initializing speech recognition routes
2025-03-21 14:13:00,421 - __main__ - INFO - Training API routes added successfully
2025-03-21 14:13:00,422 - api.flask_api - INFO - Starting server on 0.0.0.0:5000
2025-03-21 14:13:00,431 - werkzeug - WARNING -  * Debugger is active!
2025-03-21 14:13:00,438 - werkzeug - INFO -  * Debugger PIN: 103-700-790
2025-03-21 14:13:00,469 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 14:13:00] "GET / HTTP/1.1" 200 -
2025-03-21 14:13:00,589 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 14:13:00] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-03-21 14:13:00,595 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 14:13:00] "GET /static/js/script.js HTTP/1.1" 200 -
2025-03-21 14:13:00,598 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 14:13:00] "[36mGET /static/js/speech.js HTTP/1.1[0m" 304 -
2025-03-21 14:13:06,782 - quick_intent_merger - INFO - Original ML classification: database_query_comparative with confidence 1.0
2025-03-21 14:13:06,782 - quick_intent_merger - INFO - Pattern matches: ['\\b(highest|maximum|most|top|greatest|largest|biggest)', '\\b(where|with|having|that have|filter)\\b']
2025-03-21 14:13:06,782 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-21 14:13:06,782 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_comparative', 'confidence': 1.0, 'sub_intent': 'database_query_comparative_highest', 'sub_confidence': 0.9}
2025-03-21 14:13:06,786 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 14:13:06,787 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 14:13:06,793 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 14:13:06,793 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 14:13:06,794 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 14:13:06,794 - database_connector - ERROR - Error executing query: 1054 (42S22): Unknown column 'name' in 'where clause'
2025-03-21 14:13:06,794 - query_processor - WARNING - Could not extract entity name from query: show me traders with highest account balance
2025-03-21 14:13:06,794 - query_processor - INFO - Extracted entity: 'None' from table: 'None'
2025-03-21 14:13:06,794 - query_processor - WARNING - Could not extract entity name from query: Show me traders with highest account balance
2025-03-21 14:13:06,794 - model.chatbot_engine - INFO - Sub-intent: database_query_comparative_highest, Parent intent: database_query_comparative
2025-03-21 14:13:06,794 - query_processor - INFO - Processing query with intent: database_query_comparative, confidence: 1.0
2025-03-21 14:13:06,796 - query_processor - INFO - Generated generic SQL: SELECT trades.market_id, accounts.account_type, traders.name, trades.trade_id, trades.asset_id, trades.quantity, trades.price, traders.trader_id, trades.trade_date, accounts.creation_date, trades.trader_id, accounts.account_id, accounts.trader_id, traders.registration_date FROM accounts JOIN traders ON accounts.trader_id = traders.trader_id JOIN trades ON traders.trader_id = trades.trader_id ORDER BY accounts.balance DESC LIMIT 10
2025-03-21 14:13:06,799 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 14:13:06] "POST /api/chat HTTP/1.1" 200 -
2025-03-21 14:13:27,338 - quick_intent_merger - INFO - Original ML classification: database_query_sort with confidence 1.0
2025-03-21 14:13:27,338 - quick_intent_merger - INFO - Pattern matches: ['\\b(sort|order|arrange).*(descending|desc|high to low|largest to smallest)', '\\b(sort|order|arrange|list).*\\b(by|on)\\b']
2025-03-21 14:13:27,339 - quick_intent_merger - INFO - Final intent classification: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-21 14:13:27,339 - model.chatbot_engine - INFO - Classified intent: {'intent': 'database_query_sort', 'confidence': 1.0, 'sub_intent': 'database_query_sort_descending', 'sub_confidence': 0.9}
2025-03-21 14:13:27,339 - model.chatbot_engine - INFO - Sub-intent: database_query_sort_descending, Parent intent: database_query_sort
2025-03-21 14:13:27,339 - query_processor - INFO - Processing query with intent: database_query_sort, confidence: 1.0
2025-03-21 14:13:27,339 - query_processor - INFO - Generated generic SQL: SELECT orders.order_id, price_history.close_price, orders.trade_id, assets.broker_id, price_history.asset_id, price_history.price_date, assets.name, assets.asset_type, price_history.open_price, price_history.price_id, assets.asset_id, orders.order_type, orders.order_date FROM orders JOIN trades ON orders.trade_id = trades.trade_id JOIN assets ON trades.asset_id = assets.asset_id JOIN price_history ON assets.asset_id = price_history.asset_id ORDER BY orders.order_date DESC LIMIT 100
2025-03-21 14:13:27,345 - werkzeug - INFO - 127.0.0.1 - - [21/Mar/2025 14:13:27] "POST /api/chat HTTP/1.1" 200 -
